<!doctype html>
<html lang="zh">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Mitasul · 首页</title>
    <meta name="description" content="Mitasul 的个人主页">
    <meta name="color-scheme" content="light dark">
    <!-- 缓存控制 -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <!-- 版本控制 -->
    <meta name="version" content="2.0.1">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <style>
      /* 优雅现代配色方案 - 柔和舒适 */
      :root{
        /* 基础色彩 - 温暖中性色 */
        --bg: 250 251 252;
        --fg: 51 65 85;
        --muted: 100 116 139;
        --surface: 248 250 252;
        --card: 255 255 255;
        --border: 226 232 240;
        
        /* 点缀色 - 优雅蓝色系 */
        --accent: 59 130 246;
        --accent-light: 96 165 250;
        
        /* 功能色彩 */
        --success: 34 197 94;
        --warning: 245 158 11;
        --error: 239 68 68;
        
        /* 设计系统 */
        --radius: 12px;
        --shadow: 0 4px 16px rgba(51,65,85,.08);
        --shadow-lg: 0 8px 32px rgba(51,65,85,.12);
        --glass: rgba(255, 255, 255, 0.95);
        --blur: 8px;
        
        /* 间距系统 - 4pt/8pt 基准 */
        --space-1: 4px;
        --space-2: 8px;
        --space-3: 12px;
        --space-4: 16px;
        --space-5: 20px;
        --space-6: 24px;
        --space-8: 32px;
        --space-10: 40px;
        --space-12: 48px;
        --space-16: 64px;
        --space-20: 80px;
      }
      
      [data-theme="dark"]{
        --bg: 15 23 42;
        --fg: 241 245 249;
        --muted: 148 163 184;
        --surface: 30 41 59;
        --card: 51 65 85;
        --border: 71 85 105;
        
        /* 点缀色 - 柔和蓝色 */
        --accent: 96 165 250;
        --accent-light: 129 140 248;
        
        --shadow: 0 4px 16px rgba(0,0,0,.3);
        --shadow-lg: 0 8px 32px rgba(0,0,0,.4);
        --glass: rgba(51, 65, 85, 0.95);
      }
      
      /* 基础重置和优化 */
      * {
        box-sizing: border-box !important;
        -webkit-tap-highlight-color: transparent !important;
      }
      
      html, body {
        height: 100% !important;
        margin: 0 !important;
        padding: 0 !important;
        overscroll-behavior: none !important;
      }
      
      html {
        scroll-behavior: smooth !important;
        -webkit-font-smoothing: antialiased !important;
        -moz-osx-font-smoothing: grayscale !important;
      }
      
      /* 字体系统 - Google Fonts Inter */
      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
      
      body {
        font-family: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif !important;
        color: rgb(var(--fg)) !important;
        background: rgb(var(--bg)) !important;
        line-height: 1.5 !important;
        font-size: 16px !important;
        letter-spacing: -0.01em !important;
        position: relative !important;
        overflow-x: hidden !important;
      }
      
      /* 字体层级系统 */
      h1 {
        font-size: 36px !important;
        font-weight: 700 !important;
        line-height: 1.2 !important;
        margin: var(--space-6) 0 var(--space-4) 0 !important;
        color: rgb(var(--fg)) !important;
      }
      
      h2 {
        font-size: 28px !important;
        font-weight: 600 !important;
        line-height: 1.3 !important;
        margin: var(--space-5) 0 var(--space-3) 0 !important;
        color: rgb(var(--fg)) !important;
      }
      
      h3 {
        font-size: 20px !important;
        font-weight: 600 !important;
        line-height: 1.4 !important;
        margin: var(--space-4) 0 var(--space-2) 0 !important;
        color: rgb(var(--fg)) !important;
      }
      
      p {
        font-size: 16px !important;
        font-weight: 400 !important;
        line-height: 1.6 !important;
        margin: 0 0 var(--space-4) 0 !important;
        color: rgb(var(--fg)) !important;
      }
      
      /* 移动端字体调整 */
      @media (max-width: 768px) {
        h1 { font-size: 28px !important; }
        h2 { font-size: 24px !important; }
        h3 { font-size: 18px !important; }
      }
      
      /* 动态背景效果 */
      body::before{
        content:"";
        position:fixed;
        inset:0;
        z-index:-2;
        pointer-events:none;
        background:
          radial-gradient(circle at 20% 80%, rgba(var(--primary)/.15), transparent 50%),
          radial-gradient(circle at 80% 20%, rgba(var(--accent)/.1), transparent 50%),
          radial-gradient(circle at 40% 40%, rgba(var(--accent-light)/.08), transparent 50%);
        filter: blur(60px);
        opacity: 0.6;
        transform: translateZ(0);
        will-change: transform;
        animation: float 25s ease-in-out infinite;
      }
      
      @keyframes float {
        0%, 100% { transform: translateZ(0) scale(1) rotate(0deg); }
        33% { transform: translateZ(0) scale(1.05) rotate(1deg); }
        66% { transform: translateZ(0) scale(0.95) rotate(-1deg); }
      }
      
      /* 流体粒子背景 */
      .particles {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        overflow: hidden;
        z-index: -1;
        pointer-events: none;
      }
      
      .particle {
        position: absolute;
        width: 3px;
        height: 3px;
        background: rgba(var(--primary), 0.3);
        border-radius: 50%;
        animation: particle-float 20s infinite linear;
        will-change: transform;
        opacity: 0.6;
      }
      
      @keyframes particle-float {
        from {
          transform: translateY(100vh) translateZ(0);
          opacity: 0;
        }
        10% {
          opacity: 1;
        }
        90% {
          opacity: 1;
        }
        to {
          transform: translateY(-100vh) translateZ(0);
          opacity: 0;
        }
      }
      
      /* 优化的页面切换动画 */
      ::view-transition-old(root){
        animation: slide-out 0.4s cubic-bezier(0.4, 0, 0.2, 1) both;
      }
      ::view-transition-new(root){
        animation: slide-in 0.4s cubic-bezier(0.4, 0, 0.2, 1) both;
      }
      
      @keyframes slide-out{
        from {
          opacity: 1;
          transform: translateX(0) scale(1);
        }
        to{
          transform: translateX(-30px) scale(0.98);
          opacity: 0;
        }
      }
      
      @keyframes slide-in{
        from{
          transform: translateX(30px) scale(0.98);
          opacity: 0;
        }
        to{
          transform: translateX(0) scale(1);
          opacity: 1;
        }
      }
      
      /* 添加页面内容淡入效果 */
      .page.active > * {
        animation: fadeInUp 0.6s cubic-bezier(0.4, 0, 0.2, 1) both;
      }
      
      @keyframes fadeInUp{
        from{
          opacity: 0;
          transform: translateY(30px);
        }
        to{
          opacity: 1;
          transform: translateY(0);
        }
      }
      
      .page.active > *:nth-child(1) { animation-delay: 0s; }
      .page.active > *:nth-child(2) { animation-delay: 0.1s; }
      .page.active > *:nth-child(3) { animation-delay: 0.2s; }
      
      /* 容器系统 - 遵循间距规范 */
      .container {
        max-width: 1200px !important;
        padding: 0 var(--space-6) !important;
        margin: 0 auto !important;
      }
      
      @media (max-width: 768px) {
        .container {
          padding: 0 var(--space-4) !important;
        }
      }
      
      /* 顶部提示栏 - 优化间距和样式 */
      .topline {
        text-align: center !important;
        padding: var(--space-3) var(--space-4) !important;
        font-size: 14px !important;
        font-weight: 400 !important;
        background: rgb(var(--surface)) !important;
        border-bottom: 1px solid rgb(var(--border)) !important;
        color: rgb(var(--muted)) !important;
      }
      
      /* 导航栏 - 极简设计 */
      .site-header {
        position: sticky !important;
        top: 0 !important;
        z-index: 40 !important;
        background: rgba(var(--bg), 0.95) !important;
        backdrop-filter: blur(var(--blur)) !important;
        -webkit-backdrop-filter: blur(var(--blur)) !important;
        border-bottom: 1px solid rgb(var(--border)) !important;
        box-shadow: var(--shadow) !important;
      }
      
      .nav {
        display: flex !important;
        align-items: center !important;
        justify-content: space-between !important;
        height: var(--space-16) !important;
        position: relative !important;
      }
      
      /* 品牌标识 - 极简设计 */
      .brand {
        display: flex !important;
        align-items: center !important;
        gap: var(--space-3) !important;
        text-decoration: none !important;
        font-weight: 700 !important;
        font-size: 20px !important;
        color: rgb(var(--fg)) !important;
        transition: opacity 0.2s ease !important;
      }
      
      .brand:hover {
        opacity: 0.8 !important;
      }
      
      .brand svg {
        width: 24px !important;
        height: 24px !important;
      }
      
      /* 导航链接 - 清爽设计 */
      .nav-links {
        display: flex !important;
        gap: var(--space-1) !important;
        list-style: none !important;
        margin: 0 !important;
        padding: 0 !important;
        position: relative !important;
      }
      
      .nav-links a, .linklike {
        color: rgb(var(--muted)) !important;
        text-decoration: none !important;
        background: none !important;
        border: none !important;
        cursor: pointer !important;
        font: inherit !important;
        font-size: 14px !important;
        font-weight: 500 !important;
        padding: var(--space-2) var(--space-4) !important;
        border-radius: var(--radius) !important;
        transition: all 0.2s ease !important;
        position: relative !important;
      }
      
      .nav-links a:hover, .linklike:hover {
        color: rgb(var(--fg)) !important;
        background: rgb(var(--surface)) !important;
      }
      
      .nav-links a.active {
        color: rgb(var(--fg)) !important;
        background: rgb(var(--accent)) !important;
        font-weight: 600 !important;
      }
      
      [data-theme="dark"] .nav-links a.active {
        color: rgb(var(--bg)) !important;
        background: rgb(var(--accent)) !important;
      }
      
      /* 控制按钮组 */
      .controls {
        display: flex !important;
        align-items: center !important;
        gap: var(--space-2) !important;
      }
      
      /* 联系按钮 - 主要行动按钮 */
      .contact-btn {
        height: var(--space-12) !important;
        padding: 0 var(--space-5) !important;
        border-radius: var(--radius) !important;
        border: 1px solid rgb(var(--accent)) !important;
        background: rgb(var(--accent)) !important;
        color: rgb(var(--bg)) !important;
        cursor: pointer !important;
        transition: all 0.2s ease !important;
        display: flex !important;
        align-items: center !important;
        gap: var(--space-2) !important;
        font-size: 14px !important;
        font-weight: 600 !important;
        box-shadow: var(--shadow) !important;
      }
      
      .contact-btn:hover {
        opacity: 0.9 !important;
        transform: translateY(-1px) !important;
        box-shadow: var(--shadow-lg) !important;
      }
      
      .contact-btn:active {
        transform: translateY(0) !important;
      }
      
      [data-theme="dark"] .contact-btn {
        background: rgb(var(--accent)) !important;
        color: rgb(var(--bg)) !important;
        border-color: rgb(var(--accent)) !important;
      }
      
      /* 切换按钮 - 次要按钮 */
      .theme-toggle, .lang-toggle {
        height: var(--space-12) !important;
        padding: 0 var(--space-4) !important;
        border-radius: var(--radius) !important;
        border: 1px solid rgb(var(--border)) !important;
        background: rgb(var(--bg)) !important;
        color: rgb(var(--fg)) !important;
        cursor: pointer !important;
        transition: all 0.2s ease !important;
        display: flex !important;
        align-items: center !important;
        gap: var(--space-2) !important;
        font-size: 14px !important;
        font-weight: 500 !important;
      }
      
      .theme-toggle {
        width: var(--space-12) !important;
        padding: 0 !important;
        justify-content: center !important;
      }
      
      .theme-toggle:hover, .lang-toggle:hover {
        background: rgb(var(--surface)) !important;
        border-color: rgb(var(--accent)) !important;
      }
      
      .theme-toggle:active, .lang-toggle:active {
        transform: scale(0.98) !important;
      }
      
      /* Hero 区域 - 优雅极简 */
      .hero {
        padding: var(--space-20) 0 var(--space-16) !important;
        position: relative !important;
      }
      
      .hero-grid {
        display: grid !important;
        grid-template-columns: 1.2fr 0.8fr !important;
        gap: var(--space-12) !important;
        align-items: center !important;
      }
      
      .hero h1 {
        font-size: clamp(28px, 6vw, 48px) !important;
        font-weight: 700 !important;
        line-height: 1.2 !important;
        margin: 0 0 var(--space-4) 0 !important;
        color: rgb(var(--fg)) !important;
        letter-spacing: -0.02em !important;
      }
      
      .hero .lead {
        font-size: clamp(16px, 2.5vw, 20px) !important;
        color: rgb(var(--muted)) !important;
        margin: 0 0 var(--space-8) 0 !important;
        line-height: 1.6 !important;
        font-weight: 400 !important;
      }
      
      /* 移动端Hero优化 */
      @media (max-width: 768px) {
        .hero {
          padding: var(--space-16) 0 var(--space-12) !important;
        }
        
        .hero-grid {
          grid-template-columns: 1fr !important;
          gap: var(--space-8) !important;
        }
      }
      
      /* 极简卡片设计 */
      .glass {
        background: rgb(var(--card)) !important;
        border: 1px solid rgb(var(--border)) !important;
        border-radius: var(--radius) !important;
        box-shadow: var(--shadow) !important;
        transition: all 0.2s ease !important;
      }
      
      .glass:hover {
        transform: translateY(-2px) !important;
        box-shadow: var(--shadow-lg) !important;
        border-color: rgb(var(--accent)) !important;
      }
      
      /* 渐入动画 */
      .reveal {
        opacity: 0 !important;
        transform: translateY(var(--space-5)) !important;
      }
      
      .reveal.show {
        opacity: 1 !important;
        transform: translateY(0) !important;
        transition: all 0.4s ease !important;
      }
      
      /* 头像区域 */
      .hero-media {
        position: relative !important;
        min-height: 280px !important;
      }
      
      .avatar {
        width: 100% !important;
        max-width: 280px !important;
        height: auto !important;
        display: block !important;
        object-fit: cover !important;
        border-radius: var(--radius) !important;
        transition: all 0.2s ease !important;
      }
      
      .avatar:hover {
        transform: scale(1.02) !important;
        box-shadow: var(--shadow-lg) !important;
      }
      
      /* 按钮系统 */
      .btn {
        display: inline-flex !important;
        align-items: center !important;
        justify-content: center !important;
        gap: var(--space-2) !important;
        padding: var(--space-3) var(--space-6) !important;
        border-radius: var(--radius) !important;
        border: 1px solid rgb(var(--border)) !important;
        text-decoration: none !important;
        color: rgb(var(--fg)) !important;
        background: rgb(var(--bg)) !important;
        transition: all 0.2s ease !important;
        cursor: pointer !important;
        font-weight: 500 !important;
        font-size: 14px !important;
        min-height: var(--space-12) !important;
      }
      
      .btn:hover {
        background: rgb(var(--surface)) !important;
        border-color: rgb(var(--accent)) !important;
        transform: translateY(-1px) !important;
      }
      
      .btn.primary {
        background: rgb(var(--accent)) !important;
        color: rgb(var(--bg)) !important;
        border-color: rgb(var(--accent)) !important;
        font-weight: 600 !important;
      }
      
      .btn.primary:hover {
        opacity: 0.9 !important;
      }
      
      [data-theme="dark"] .btn.primary {
        color: rgb(var(--bg)) !important;
      }
      
      /* 技能卡片网格 */
      .skills-grid {
        display: grid !important;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)) !important;
        gap: var(--space-6) !important;
        margin-top: var(--space-8) !important;
      }
      
      /* 技能卡片 - 极简设计 */
      .skill-card {
        background: rgb(var(--card)) !important;
        border: 1px solid rgb(var(--border)) !important;
        border-radius: var(--radius) !important;
        padding: var(--space-6) !important;
        cursor: pointer !important;
        transition: all 0.2s ease !important;
        position: relative !important;
      }
      
      .skill-card:hover {
        transform: translateY(-2px) !important;
        box-shadow: var(--shadow-lg) !important;
        border-color: rgb(var(--accent)) !important;
      }
      
      .skill-card h3 {
        margin: 0 0 var(--space-3) 0 !important;
        font-size: 18px !important;
        font-weight: 600 !important;
        color: rgb(var(--fg)) !important;
        line-height: 1.4 !important;
      }
      
      .skill-card p {
        color: rgb(var(--muted)) !important;
        margin: 0 0 var(--space-4) 0 !important;
        line-height: 1.6 !important;
        font-size: 14px !important;
      }
      
      .skill-card:hover p {
        color: rgb(var(--fg)) !important;
      }
      
      /* 技能标签 */
      .skill-tags {
        display: flex !important;
        flex-wrap: wrap !important;
        gap: var(--space-2) !important;
      }
      
      .skill-tag {
        padding: var(--space-1) var(--space-3) !important;
        background: rgb(var(--surface)) !important;
        color: rgb(var(--muted)) !important;
        border-radius: calc(var(--radius) * 3) !important;
        font-size: 12px !important;
        font-weight: 500 !important;
        transition: all 0.2s ease !important;
        border: 1px solid rgb(var(--border)) !important;
      }
      
      .skill-card:hover .skill-tag {
        background: rgb(var(--accent)) !important;
        color: rgb(var(--bg)) !important;
        border-color: rgb(var(--accent)) !important;
      }
      
      [data-theme="dark"] .skill-card:hover .skill-tag {
        color: rgb(var(--bg)) !important;
      }
      
      /* 项目详情模态框 */
      .project-modal{
        position: fixed;
        inset: 0;
        display: none;
        z-index: 100;
        padding: 20px;
        overflow-y: auto;
      }
      
      .project-modal.open{
        display: flex;
        align-items: center;
        justify-content: center;
        animation: fade-in 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      }
      
      @keyframes fade-in{
        from{ opacity: 0; }
        to{ opacity: 1; }
      }
      
      .project-backdrop{
        position: absolute;
        inset: 0;
        background: rgba(0, 0, 0, 0.8);
        backdrop-filter: blur(8px);
        -webkit-backdrop-filter: blur(8px);
      }
      
      .project-content{
        position: relative;
        width: min(900px, calc(100% - 40px));
        max-height: calc(100vh - 40px);
        background: rgb(var(--card));
        border: 1px solid rgb(var(--border)/.5);
        border-radius: var(--radius);
        overflow: hidden;
        animation: scale-up 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      }
      
      @keyframes scale-up{
        from{ transform: scale(0.9); opacity: 0; }
        to{ transform: scale(1); opacity: 1; }
      }
      
      .project-header{
        padding: 24px;
        border-bottom: 1px solid rgb(var(--border)/.3);
        display: flex;
        justify-content: space-between;
        align-items: center;
      }
      
      .project-body{
        padding: 24px;
        overflow-y: auto;
        max-height: calc(100vh - 180px);
      }
      
      .project-video{
        width: 100%;
        border-radius: 12px;
        margin-bottom: 24px;
      }
      
      .close-btn{
        width: 40px;
        height: 40px;
        border-radius: 50%;
        background: rgba(var(--fg), 0.1);
        border: none;
        color: rgb(var(--fg));
        cursor: pointer;
        display: grid;
        place-items: center;
        font-size: 24px;
        transition: all 0.2s;
      }
      
      .close-btn:hover{
        background: rgba(var(--primary), 0.2);
        transform: rotate(90deg);
      }
      
      /* 页面切换优化 */
      .page{
        display: none;
        min-height: 60vh;
        position: relative;
      }
      
      .page.active{
        display: block;
        animation: page-fade 0.5s cubic-bezier(0.4, 0, 0.2, 1) both;
      }
      
      @keyframes page-fade{
        from{
          opacity: 0;
          transform: translateY(30px) scale(0.98);
          filter: blur(4px);
        }
        to{
          opacity: 1;
          transform: translateY(0) scale(1);
          filter: blur(0);
        }
      }
      
      /* 响应式优化 */
      @media (max-width: 900px){
        .hero-grid{
          grid-template-columns: 1fr;
          gap: 32px;
        }
        .skills-grid{
          grid-template-columns: 1fr;
        }
      }
      
      /* 移动端响应式优化 */
      @media (max-width: 768px){
        .nav-links{
          position: fixed;
          top: 64px;
          left: 0;
          right: 0;
          background: rgba(var(--bg), 0.98);
          backdrop-filter: blur(20px);
          -webkit-backdrop-filter: blur(20px);
          border-bottom: 1px solid rgb(var(--border));
          padding: 20px;
          flex-direction: column;
          gap: 8px;
          transform: translateY(-100%);
          opacity: 0;
          visibility: hidden;
          transition: all 0.25s cubic-bezier(0.25, 0.46, 0.45, 0.94);
          z-index: 50;
          box-shadow: 0 10px 40px rgba(0,0,0,.15);
        }
        
        .nav-links.active{
          transform: translateY(0);
          opacity: 1;
          visibility: visible;
        }
        
        .nav-links a{
          width: 100%;
          padding: 16px 20px;
          justify-content: center;
          border-radius: 12px;
          font-size: 16px;
          font-weight: 500;
          transition: all 0.2s ease;
          -webkit-tap-highlight-color: transparent;
          touch-action: manipulation;
        }
        
        .nav-links a:hover{
          transform: none;
        }
        
        .nav-links a:active{
          transform: scale(0.98);
          background: rgba(var(--accent), 0.1);
        }
        
        /* 移动端菜单按钮 */
        .mobile-menu-btn {
          display: flex !important;
          width: var(--space-12) !important;
          height: var(--space-12) !important;
          padding: 0 !important;
          border: 1px solid rgb(var(--border)) !important;
          border-radius: var(--radius) !important;
          background: rgb(var(--bg)) !important;
          color: rgb(var(--fg)) !important;
          cursor: pointer !important;
          align-items: center !important;
          justify-content: center !important;
          transition: all 0.2s ease !important;
          position: relative !important;
          z-index: 40 !important;
        }
        
        .mobile-menu-btn:hover {
          background: rgb(var(--surface)) !important;
          border-color: rgb(var(--accent)) !important;
        }
        
        .mobile-menu-btn:active {
          transform: scale(0.98) !important;
        }
        
        .mobile-menu-btn svg {
          width: 20px !important;
          height: 20px !important;
          transition: all 0.2s ease !important;
        }
      }
      
      @media (max-width: 640px) {
        .nav {
          height: var(--space-16) !important;
        }
        
        .controls {
          gap: var(--space-1) !important;
        }
        
        .contact-btn {
          padding: 0 var(--space-3) !important;
        }
        
        .contact-btn span {
          display: none !important;
        }
        
        .lang-toggle {
          padding: 0 var(--space-3) !important;
        }
        
        .hero {
          padding: var(--space-16) 0 var(--space-12) !important;
        }
        
        .container {
          padding: 0 var(--space-4) !important;
        }
        
        .skills-grid {
          grid-template-columns: 1fr !important;
          gap: var(--space-4) !important;
        }
      }
      
      /* 默认隐藏移动菜单按钮 */
      .mobile-menu-btn{
        display: none;
      }
      
      /* 桌面端隐藏移动菜单按钮 */
      @media (min-width: 769px){
        .mobile-menu-btn{
          display: none !important;
        }
      }
      
      /* 滚动条美化 */
      ::-webkit-scrollbar{
        width: 10px;
        height: 10px;
      }
      
      ::-webkit-scrollbar-track{
        background: rgba(var(--muted), 0.1);
      }
      
      ::-webkit-scrollbar-thumb{
        background: rgba(var(--primary), 0.5);
        border-radius: 5px;
      }
      
      ::-webkit-scrollbar-thumb:hover{
        background: rgba(var(--primary), 0.7);
      }
      
      /* 加载动画 */
      .loading{
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        height: 3px;
        background: var(--gradient);
        transform-origin: left;
        animation: loading 1s ease-in-out infinite;
      }
      
      @keyframes loading{
        0%{ transform: scaleX(0); }
        50%{ transform: scaleX(1); }
        100%{ transform: scaleX(0); transform-origin: right; }
      }
      
      /* 优化打印样式 */
      @media print{
        body{ background: white; }
        .controls, .nav-links, .modal{ display: none; }
      }
      
      /* 增强可访问性 */
      :focus-visible{
        outline: 2px solid rgb(var(--primary));
        outline-offset: 2px;
      }
      
      /* 减少动画 */
      @media (prefers-reduced-motion: reduce){
        *, *::before, *::after{
          animation-duration: 0.01ms !important;
          animation-iteration-count: 1 !important;
          transition-duration: 0.01ms !important;
        }
      }
    </style>
  </head>
  <body>
    <script>
      // 立即执行主题初始化，防止闪烁
      (function() {
        const stored = localStorage.getItem('theme');
        // 默认使用浅色主题，只有用户明确选择过才使用保存的主题
        const theme = stored || 'light';
        document.documentElement.setAttribute('data-theme', theme);
        
        // 立即设置语言
        const storedLang = localStorage.getItem('lang') || 'zh';
        document.documentElement.setAttribute('lang', storedLang);
      })();
    </script>
    <div class="loading" id="loading" style="display:none;"></div>
    <div class="particles" id="particles"></div>
    <div class="topline" id="topline" data-i18n="bar.welcome">你好，欢迎来到我的空间。</div>
    
    <header class="site-header">
      <nav class="nav container" aria-label="主导航">
        <a class="brand" href="#/" aria-label="Mitasul home">
          <svg width="32" height="32" viewBox="0 0 32 32" fill="none" aria-hidden="true">
            <rect width="32" height="32" rx="8" fill="url(#grad)"/>
            <defs>
              <linearGradient id="grad" x1="0%" y1="0%" x2="100%" y2="100%">
                <stop offset="0%" style="stop-color:rgb(64,90,167);stop-opacity:1" />
                <stop offset="100%" style="stop-color:rgb(139,92,246);stop-opacity:1" />
              </linearGradient>
            </defs>
            <path d="M8 20L12 12L16 17L20 12L24 20" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          <span>Mitasul</span>
        </a>
        <ul class="nav-links">
          <li><a href="#/" data-route="home" data-i18n="nav.home">首页</a></li>
          <li><a href="#/about" data-route="about" data-i18n="nav.about">兴趣爱好</a></li>
          <li><a href="#/skills-projects" data-route="skills-projects" data-i18n="nav.skillsProjects">技能与项目</a></li>
          <li><a href="#/thoughts" data-route="thoughts" data-i18n="nav.thoughts">随想</a></li>
        </ul>
        <div class="controls">
          <button class="contact-btn" id="openContact" data-i18n="nav.contact">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M22 2 11 13M22 2l-7 20-4-9-9-4 20-7z"/>
            </svg>
            <span>联系</span>
          </button>
          <button class="lang-toggle" id="langToggle" aria-label="Language / 语言">
            <span>中 / EN</span>
          </button>
          <button class="theme-toggle" id="themeToggle" aria-label="切换主题">
            <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="12" cy="12" r="5"/>
              <line x1="12" y1="1" x2="12" y2="3"/>
              <line x1="12" y1="21" x2="12" y2="23"/>
              <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/>
              <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/>
              <line x1="1" y1="12" x2="3" y2="12"/>
              <line x1="21" y1="12" x2="23" y2="12"/>
              <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/>
              <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/>
            </svg>
          </button>
          <button class="mobile-menu-btn" id="mobileMenuBtn" aria-label="菜单">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <line x1="3" y1="6" x2="21" y2="6"/>
              <line x1="3" y1="12" x2="21" y2="12"/>
              <line x1="3" y1="18" x2="21" y2="18"/>
            </svg>
          </button>
        </div>
      </nav>
    </header>

    <main>
      <section id="page-home" class="page active">
        <section class="hero container">
          <div class="hero-grid">
            <div>
              <h1 class="reveal" data-i18n="hero.title">Mitasul</h1>
              <p class="lead reveal" data-i18n="hero.lead">一个AI的忠实爱好者与实践者。</p>
              <div class="prose">
                <p class="reveal" data-i18n="home.p1">我的人生哲学很简单：由好奇心驱动，而非路线图。正是这份好奇，让我对 AI 的创造力深深着迷——无论是前端代码的灵动生成，还是创意写作的无限可能，都让我沉醉其中。</p>
                <p class="reveal" data-i18n="home.p2">这个网站是我的个人实验室，也是我的分享平台。我在这里记录我对 AI 应用的探索、思考，以及将各种大模型应用于不同场景的实践心得。建立它的目的很简单：让更多的人知道我，并与可能的朋友、未来的合作伙伴在此相遇。</p>
                <p class="reveal" data-i18n="home.p3">工作和探索之余，我的精神世界同样丰富。我能在 Funk 的律动与古典音乐的庄严之间寻找慰藉，也享受一个人在海边看天空的宁静。</p>
                <p class="reveal" data-i18n="home.p4">当然，还有《三国志》。它不仅仅是英雄史诗，更蕴含着洞察世事的智慧。我尤其欣赏其中一句：</p>
                <blockquote class="reveal glass" style="padding: 20px; margin: 24px 0;">
                  <span data-i18n="home.quote" style="font-size: 1.1rem; font-weight: 500;">"治疾及其未笃，除患贵其未深。"</span>
                  <cite data-i18n="home.quoteCite" style="display: block; margin-top: 12px; color: rgb(var(--muted)); font-style: normal;">—— 三国志</cite>
                </blockquote>
                <p class="reveal" data-i18n="home.p5">这句话也时刻提醒着我，在技术的浪潮中，要保持远见，防微杜渐。</p>
                <p class="reveal" data-i18n="home.p6">期待在这里与你思想碰撞。</p>
              </div>
              <div class="cta reveal" style="margin-top: 32px; display: flex; gap: 16px;">
                <button class="btn primary" id="openContact2" data-i18n="btn.contactMe">
                  联系我
                  <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M5 12h14M12 5l7 7-7 7"/>
                  </svg>
                </button>
                <a href="#/skills-projects" class="btn" data-i18n="btn.viewProjects">
                  查看项目
                </a>
              </div>
            </div>
            <div class="hero-media glass reveal" style="padding: 32px; display: flex; justify-content: center; align-items: center;">
              <img id="userAvatar" class="avatar" src="avatar.png" alt="Mitasul 的头像" loading="eager">
              <svg id="avatarFallback" viewBox="0 0 320 320" xmlns="http://www.w3.org/2000/svg" style="width:100%;max-width:320px;height:auto;display:none;">
                <defs>
                  <linearGradient id="avatar-grad" x1="0" y1="0" x2="1" y2="1">
                    <stop offset="0" stop-color="rgb(64,90,167)"/>
                    <stop offset="1" stop-color="rgb(139,92,246)"/>
                  </linearGradient>
                </defs>
                <rect width="320" height="320" rx="16" fill="url(#avatar-grad)"/>
                <circle cx="160" cy="110" r="44" fill="white" opacity=".9"/>
                <rect x="80" y="180" width="160" height="80" rx="28" fill="white" opacity=".9"/>
              </svg>
            </div>
          </div>
        </section>
      </section>

      <section id="page-about" class="page">
        <section class="container" style="padding: 60px 0;">
          <h1 class="reveal" data-i18n="about.title" style="font-size: 2.5rem; margin-bottom: 32px;">兴趣爱好</h1>
          <div class="prose reveal">
            <ul style="list-style: none; padding: 0;">
              <li style="padding: 12px 0; font-size: 1.1rem;" data-i18n="about.reading">📚 阅读</li>
              <li style="padding: 12px 0; font-size: 1.1rem;" data-i18n="about.writing">✍️ 写作</li>
            </ul>
            <p style="margin-top: 32px; padding: 16px; background: rgba(var(--primary), 0.1); border-radius: 12px; border-left: 4px solid rgb(var(--primary));" data-i18n="about.status">
              状态：开放合作 / 接受交流
            </p>
          </div>
        </section>
      </section>

      <section id="page-skills-projects" class="page">
        <section class="container" style="padding: 60px 0;">
          <h1 class="reveal" data-i18n="skillsProjects.title" style="font-size: 2.5rem; margin-bottom: 16px;">技能与项目</h1>
          <p class="reveal" style="color: rgb(var(--muted)); margin-bottom: 32px;" data-i18n="skillsProjects.subtitle">点击卡片查看详情</p>
          
          <div class="skills-grid">
            <div class="skill-card reveal" onclick="openProject('operations')">
              <h3 data-i18n="skillsProjects.ops">运营</h3>
              <p data-i18n="skillsProjects.opsDesc">（待补充）</p>
              <div class="skill-tags">
                <span class="skill-tag" data-i18n="skillsProjects.tagPending">待定</span>
              </div>
            </div>
            
            <div class="skill-card reveal" onclick="openProject('writing')">
              <h3 data-i18n="skillsProjects.write">写作</h3>
              <p data-i18n="skillsProjects.writeDesc">日常写作练习，记录想法和思考</p>
              <div class="skill-tags">
                <span class="skill-tag" data-i18n="skillsProjects.tagEssay">随笔</span>
                <span class="skill-tag" data-i18n="skillsProjects.tagRecord">记录</span>
              </div>
            </div>
            
            <div class="skill-card reveal" onclick="openProject('chef')">
              <h3 data-i18n="skillsProjects.chef">厨师</h3>
              <p data-i18n="skillsProjects.chefDesc">会做一些中餐家常菜</p>
              <div class="skill-tags">
                <span class="skill-tag" data-i18n="skillsProjects.tagChinese">中餐</span>
                <span class="skill-tag" data-i18n="skillsProjects.tagHomeCooking">家常菜</span>
              </div>
            </div>
            
            <div class="skill-card reveal" onclick="openProject('ai')">
              <h3 data-i18n="skillsProjects.ai">AI应用</h3>
              <p data-i18n="skillsProjects.aiDesc">探索和学习AI工具的使用，包含前端设计、图片视频、游戏等多个应用领域</p>
              <div class="skill-tags">
                <span class="skill-tag" data-i18n="skillsProjects.tagFrontend">前端设计</span>
                <span class="skill-tag" data-i18n="skillsProjects.tagMedia">图片视频</span>
                <span class="skill-tag" data-i18n="skillsProjects.tagGames">游戏</span>
              </div>
            </div>
          </div>
        </section>
      </section>

      <section id="page-thoughts" class="page">
        <section class="container" style="padding: 60px 0;">
          <h1 class="reveal" data-i18n="thoughts.title" style="font-size: 2.5rem; margin-bottom: 32px;">随想</h1>
          <div class="prose reveal">
            <p id="thoughtsText" data-i18n="thoughts.text" style="font-size: 1.2rem; line-height: 1.8; color: rgb(var(--fg));">
              哲学家们只是用不同的方式解释世界，而问题在于改变世界。
            </p>
          </div>
        </section>
      </section>
    </main>

    <footer style="padding: 48px 0; border-top: 1px solid rgb(var(--border)/.3); margin-top: 80px;">
      <div class="container">
        <p style="color: rgb(var(--muted)); text-align: center;">
          © <span id="year"></span> Mitasul · Made with passion
        </p>
      </div>
    </footer>

    <!-- 联系模态框 -->
    <div class="modal project-modal" id="contactModal">
      <div class="project-backdrop" onclick="closeModal('contactModal')"></div>
      <div class="project-content" style="max-width: 500px;">
        <div class="project-header">
          <h2 data-i18n="contact.title">联系我</h2>
          <button class="close-btn" onclick="closeModal('contactModal')">×</button>
        </div>
        <div class="project-body">
          <div style="display: flex; flex-direction: column; gap: 24px;">
            <!-- 邮箱部分 -->
            <div>
              <h3 style="margin: 0 0 12px; font-size: 1rem; color: rgb(var(--muted));" data-i18n="contact.emailTitle">邮箱</h3>
              <div style="display: flex; align-items: center; gap: 12px; padding: 16px; background: rgba(var(--primary), 0.05); border-radius: 12px; border: 1px solid rgba(var(--border), 0.5);">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="rgb(var(--primary))" stroke-width="2">
                  <rect x="2" y="4" width="20" height="16" rx="2"/>
                  <path d="m22 7-10 5L2 7"/>
                </svg>
                <span style="font-family: 'Courier New', monospace; font-size: 1.05rem; color: rgb(var(--fg)); letter-spacing: 0.5px;">ezhou9403@Gmail.com</span>
              </div>
              <div style="display: flex; gap: 12px; margin-top: 12px;">
                <button class="btn" onclick="copyEmail()" style="flex: 1;">
                  <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <rect x="9" y="9" width="13" height="13" rx="2" ry="2"/>
                    <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/>
                  </svg>
                  <span data-i18n="contact.copy">复制邮箱</span>
                </button>
                <a class="btn primary" href="mailto:ezhou9403@Gmail.com" style="flex: 1;">
                  <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M22 2 11 13M22 2l-7 20-4-9-9-4 20-7z"/>
                  </svg>
                  <span data-i18n="contact.emailMe">发邮件</span>
                </a>
              </div>
            </div>
            
            <!-- GitHub部分 -->
            <div>
              <h3 style="margin: 0 0 12px; font-size: 1rem; color: rgb(var(--muted));" data-i18n="contact.githubTitle">GitHub</h3>
              <div style="display: flex; align-items: center; gap: 12px; padding: 16px; background: rgba(var(--primary), 0.05); border-radius: 12px; border: 1px solid rgba(var(--border), 0.5);">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="rgb(var(--primary))">
                  <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                </svg>
                <span style="font-family: 'Courier New', monospace; font-size: 1.05rem; color: rgb(var(--fg)); letter-spacing: 0.5px;">LOGANKhud</span>
              </div>
              <a class="btn primary" href="https://github.com/LOGANKhud" target="_blank" rel="noopener noreferrer" style="display: flex; align-items: center; justify-content: center; gap: 8px; width: 100%; margin-top: 12px;">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6M15 3h6v6M10 14 21 3"/>
                </svg>
                <span data-i18n="contact.visitGithub">访问 GitHub</span>
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- 项目详情模态框 -->
    <div class="modal project-modal" id="projectModal">
      <div class="project-backdrop" onclick="closeModal('projectModal')"></div>
      <div class="project-content">
        <div class="project-header">
          <h2 id="projectTitle">项目详情</h2>
          <button class="close-btn" onclick="closeModal('projectModal')">×</button>
        </div>
        <div class="project-body" id="projectBody">
          <!-- 动态内容 -->
        </div>
      </div>
    </div>

    <script>
      (function(){
        'use strict';
        
        // 初始化粒子背景
        function initParticles(){
          const container = document.getElementById('particles');
          const particleCount = 20;
          
          for(let i = 0; i < particleCount; i++){
            const particle = document.createElement('div');
            particle.className = 'particle';
            particle.style.left = Math.random() * 100 + '%';
            particle.style.animationDelay = Math.random() * 15 + 's';
            particle.style.animationDuration = (15 + Math.random() * 10) + 's';
            container.appendChild(particle);
          }
        }
        
        // 语言配置
        const I18N = {
          zh: {
            titles: {
              home: 'Mitasul · 首页',
              about: 'Mitasul · 兴趣爱好',
              'skills-projects': 'Mitasul · 技能与项目',
              thoughts: 'Mitasul · 随想'
            },
            bar: { welcome: '你好，欢迎来到我的空间。' },
            nav: {
              home: '首页',
              about: '兴趣爱好',
              skillsProjects: '技能与项目',
              thoughts: '随想',
              contact: '联系'
            },
            hero: {
              title: 'Mitasul',
              lead: '一个AI的忠实爱好者与实践者。'
            },
            home: {
              p1: '我的人生哲学很简单：由好奇心驱动，而非路线图。正是这份好奇，让我对 AI 的创造力深深着迷——无论是前端代码的灵动生成，还是创意写作的无限可能，都让我沉醉其中。',
              p2: '这个网站是我的个人实验室，也是我的分享平台。我在这里记录我对 AI 应用的探索、思考，以及将各种大模型应用于不同场景的实践心得。建立它的目的很简单：让更多的人知道我，并与可能的朋友、未来的合作伙伴在此相遇。',
              p3: '工作和探索之余，我的精神世界同样丰富。我能在 Funk 的律动与古典音乐的庄严之间寻找慰藉，也享受一个人在海边看天空的宁静。',
              p4: '当然，还有《三国志》。它不仅仅是英雄史诗，更蕴含着洞察世事的智慧。我尤其欣赏其中一句：',
              quote: '"治疾及其未笃，除患贵其未深。"',
              quoteCite: '—— 三国志',
              p5: '这句话也时刻提醒着我，在技术的浪潮中，要保持远见，防微杜渐。',
              p6: '期待在这里与你思想碰撞。'
            },
            btn: {
              contactMe: '联系我',
              viewProjects: '查看项目'
            },
            about: {
              title: '兴趣爱好',
              reading: '📚 阅读',
              writing: '✍️ 写作',
              status: '状态：开放合作 / 接受交流'
            },
            skillsProjects: {
              title: '技能与项目',
              subtitle: '点击卡片查看详情',
              ops: '运营',
              opsDesc: '（待补充）',
              write: '写作',
              writeDesc: '日常写作练习，记录想法和思考',
              chef: '厨师',
              chefDesc: '会做一些中餐家常菜',
              ai: 'AI应用',
              aiDesc: '探索和学习AI工具的使用，包含前端设计、图片视频、游戏等多个应用领域',
              tagPending: '待定',
              tagEssay: '随笔',
              tagRecord: '记录',
              tagChinese: '中餐',
              tagHomeCooking: '家常菜',
              tagFrontend: '前端设计',
              tagMedia: '图片视频',
              tagGames: '游戏',
            },
            thoughts: {
              title: '随想',
              text: '哲学家们只是用不同的方式解释世界，而问题在于改变世界。'
            },
            contact: {
              title: '联系我',
              copy: '复制邮箱',
              emailMe: '发邮件',
              emailTitle: '邮箱',
              githubTitle: 'GitHub',
              visitGithub: '访问 GitHub'
            }
          },
          en: {
            titles: {
              home: 'Mitasul · Home',
              about: 'Mitasul · Interests',
              'skills-projects': 'Mitasul · Skills & Projects',
              thoughts: 'Mitasul · Thoughts'
            },
            bar: { welcome: 'Hello, welcome to my space.' },
            nav: {
              home: 'Home',
              about: 'Interests',
              skillsProjects: 'Skills & Projects',
              thoughts: 'Thoughts',
              contact: 'Contact'
            },
            hero: {
              title: 'Mitasul',
              lead: 'An AI enthusiast and practitioner.'
            },
            home: {
              p1: 'My life philosophy is simple: driven by curiosity, not a roadmap. This curiosity fuels my fascination with the creativity of AI—from lively front-end code generation to the boundless possibilities of creative writing.',
              p2: "This site is my personal lab and sharing space. Here I record explorations, reflections, and hands-on notes on applying large models to different scenarios, hoping to meet friends and future collaborators.",
              p3: 'Beyond work and exploration, my inner world is rich. I find comfort between the groove of Funk and the solemnity of classical music, and enjoy the calm of watching the sky alone by the sea.',
              p4: "And of course, The Records of the Three Kingdoms. It's more than an epic—it contains insights into the world. There is a line I especially appreciate:",
              quote: '"Treat illness before it worsens; prevent trouble before it deepens."',
              quoteCite: '— Records of the Three Kingdoms',
              p5: 'This reminds me to keep foresight amid the tide of technology and address issues early.',
              p6: 'I look forward to exchanging ideas with you here.'
            },
            btn: {
              contactMe: 'Contact Me',
              viewProjects: 'View Projects'
            },
            about: {
              title: 'Interests',
              reading: '📚 Reading',
              writing: '✍️ Writing',
              status: 'Status: Open to collaboration / Chat'
            },
            skillsProjects: {
              title: 'Skills & Projects',
              subtitle: 'Click on cards to view details',
              ops: 'Operations',
              opsDesc: '(To be added)',
              write: 'Writing',
              writeDesc: 'Daily writing practice, recording thoughts and reflections',
              chef: 'Chef',
              chefDesc: 'Can cook some Chinese home-style dishes',
              ai: 'AI Applications',
              aiDesc: 'Exploring and learning to use AI tools across multiple domains including frontend design, images & videos, and games',
              tagPending: 'Pending',
              tagEssay: 'Essays',
              tagRecord: 'Records',
              tagChinese: 'Chinese Cuisine',
              tagHomeCooking: 'Home Cooking',
              tagFrontend: 'Frontend Design',
              tagMedia: 'Images & Videos',
              tagGames: 'Games',
            },
            thoughts: {
              title: 'Thoughts',
              text: 'Philosophers have only interpreted the world in various ways; the point is to change it.'
            },
            contact: {
              title: 'Contact Me',
              copy: 'Copy Email',
              emailMe: 'Email Me',
              emailTitle: 'Email',
              githubTitle: 'GitHub',
              visitGithub: 'Visit GitHub'
            }
          }
        };
        
        // 项目详情数据
        const projectData = {
          operations: {
            title: '运营',
            titleEn: 'Operations',
            description: '目前还没有具体内容，待后续补充。',
            descriptionEn: 'No specific content yet, to be added later.',
            highlights: [],
            highlightsEn: []
          },
          writing: {
            title: '写作作品',
            titleEn: 'Writing Works',
            description: '平时喜欢写一些随笔和思考，记录生活中的点滴。',
            descriptionEn: 'I enjoy writing casual thoughts and reflections, recording moments from life.',
            highlights: ['随笔', '记录', '思考'],
            highlightsEn: ['Essays', 'Records', 'Thoughts']
          },
          chef: {
            title: '中餐烹饪',
            titleEn: 'Chinese Cooking',
            description: '会做一些简单的中餐家常菜，正在学习更多菜谱。',
            descriptionEn: 'Can make some simple Chinese home-style dishes, learning more recipes.',
            highlights: ['家常菜', '中餐'],
            highlightsEn: ['Home-style dishes', 'Chinese cuisine'],
            images: [
              {
                name: '玉米虾仁',
                nameEn: 'Corn with Shrimp',
                src: 'https://raw.githubusercontent.com/LOGANKhud/LOGANKhud.github.io/main/caiping2.png'
              },
              {
                name: '红烧鱼',
                nameEn: 'Braised Fish', 
                src: 'https://raw.githubusercontent.com/LOGANKhud/LOGANKhud.github.io/main/caipin.png'
              }
            ]
          },
          ai: {
            title: 'AI应用探索',
            titleEn: 'AI Applications Exploration',
            description: '对AI工具很有兴趣，正在学习和探索各种AI应用。目前主要关注三个领域：前端设计、图片视频制作和游戏相关应用。',
            descriptionEn: 'Very interested in AI tools, currently learning and exploring various AI applications. Currently focusing on three main areas: frontend design, image & video production, and game-related applications.',
            highlights: ['前端设计', '图片视频', '游戏应用', 'AI工具'],
            highlightsEn: ['Frontend Design', 'Images & Videos', 'Game Applications', 'AI Tools'],
            subModules: [
              {
                title: '前端设计',
                titleEn: 'Frontend Design',
                description: '使用AI工具辅助前端界面设计和开发，探索AI在网页设计中的创新应用。',
                descriptionEn: 'Using AI tools to assist frontend interface design and development, exploring innovative applications of AI in web design.',
                tags: ['UI设计', '网页开发', 'AI辅助'],
                tagsEn: ['UI Design', 'Web Development', 'AI Assisted'],
                demos: [
                  {
                    name: '天气卡片',
                    nameEn: 'Weather Card',
                    description: '现代化玻璃拟态风格的天气展示组件',
                    descriptionEn: 'Modern glassmorphism weather display component',
                    url: 'weather-card-neo.html',
                    type: 'demo'
                  }
                ]
              },
              {
                title: '图片视频制作',
                titleEn: 'Image & Video Production',
                description: '利用AI工具进行图片处理、视频编辑和创意设计，探索AI在多媒体创作中的可能性。',
                descriptionEn: 'Utilizing AI tools for image processing, video editing, and creative design, exploring the possibilities of AI in multimedia creation.',
                tags: ['图片处理', '视频制作', '创意设计'],
                tagsEn: ['Image Processing', 'Video Production', 'Creative Design'],
                videos: [
                  {
                    name: '视频作品 1',
                    nameEn: 'Video Work 1',
                    src: '1.mp4'
                  },
                  {
                    name: '视频作品 2',
                    nameEn: 'Video Work 2',
                    src: '2.mp4'
                  },
                  {
                    name: '视频作品 3',
                    nameEn: 'Video Work 3',
                    src: '3.mp4'
                  }
                ]
              },
              {
                title: '游戏相关',
                titleEn: 'Game Related',
                description: '探索AI在游戏开发、游戏体验优化和游戏内容生成方面的应用，研究AI如何改变游戏行业。',
                descriptionEn: 'Exploring AI applications in game development, gameplay optimization, and game content generation, studying how AI is transforming the gaming industry.',
                tags: ['游戏开发', '游戏体验', '内容生成'],
                tagsEn: ['Game Development', 'Gameplay', 'Content Generation']
              }
            ]
          }
        };
        
        // 主题切换（已在页面头部初始化，这里只需要绑定事件）
        const initTheme = () => {
          // 主题已在页面加载前初始化，这里不需要重复设置
        };
        
        document.getElementById('themeToggle')?.addEventListener('click', () => {
          const current = document.documentElement.getAttribute('data-theme') || 'light';
          const next = current === 'dark' ? 'light' : 'dark';
          document.documentElement.setAttribute('data-theme', next);
          localStorage.setItem('theme', next);
        });
        
        // 语言切换
        const applyI18n = () => {
          const lang = document.documentElement.getAttribute('lang') || 'zh';
          const dict = I18N[lang];
          if (!dict) return;
          
          document.querySelectorAll('[data-i18n]').forEach(el => {
            const key = el.getAttribute('data-i18n');
            const keys = key.split('.');
            let value = dict;
            
            for (const k of keys) {
              value = value?.[k];
            }
            
            if (value !== undefined) {
              el.textContent = value;
            }
          });
          
          // 更新页面标题
          const route = getRoute();
          document.title = dict.titles?.[route] || 'Mitasul';
          
          // 更新语言按钮
          const langBtn = document.querySelector('#langToggle span');
          if (langBtn) {
            langBtn.textContent = lang === 'zh' ? '中 / EN' : 'EN / 中';
          }
        };
        
        document.getElementById('langToggle')?.addEventListener('click', () => {
          const current = document.documentElement.getAttribute('lang') || 'zh';
          const next = current === 'zh' ? 'en' : 'zh';
          document.documentElement.setAttribute('lang', next);
          localStorage.setItem('lang', next);
          applyI18n();
        });
        
        // 路由管理
        function getRoute() {
          const hash = location.hash || '#/';
          const match = hash.match(/^#\/([a-z-]+)?/i);
          const route = match?.[1] || 'home';
          return ['home', 'about', 'skills-projects', 'thoughts'].includes(route) ? route : 'home';
        }
        
        function showPage(route) {
          // 隐藏所有页面
          document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
          
          // 显示目标页面
          const page = document.getElementById(`page-${route}`);
          if (page) page.classList.add('active');
          
          // 更新导航状态
          document.querySelectorAll('.nav-links a').forEach(a => a.classList.remove('active'));
          const activeLink = document.querySelector(`.nav-links a[data-route="${route}"]`);
          if (activeLink) activeLink.classList.add('active');
          
          // 更新标题
          applyI18n();
          
          // 触发动画
          revealElements();
        }
        
        function navigate() {
          const route = getRoute();
          
          if (document.startViewTransition) {
            document.startViewTransition(() => showPage(route));
          } else {
            // 添加页面切换的平滑过渡
            const currentPage = document.querySelector('.page.active');
            if (currentPage) {
              currentPage.style.opacity = '0';
              currentPage.style.transform = 'translateY(-20px)';
              setTimeout(() => {
                showPage(route);
                const newPage = document.querySelector('.page.active');
                if (newPage) {
                  newPage.style.opacity = '0';
                  setTimeout(() => {
                    newPage.style.opacity = '1';
                  }, 10);
                }
              }, 200);
            } else {
              showPage(route);
            }
          }
        }
        
        // 导航点击处理
        document.querySelectorAll('.nav-links a[href^="#/"]').forEach(link => {
          link.addEventListener('click', (e) => {
            e.preventDefault();
            const href = link.getAttribute('href');
            if (href !== location.hash) {
              location.hash = href;
            }
            
            // 移动端：点击导航链接后关闭菜单
            const navLinks = document.querySelector('.nav-links');
            const mobileMenuBtn = document.getElementById('mobileMenuBtn');
            if (navLinks && mobileMenuBtn && navLinks.classList.contains('active')) {
              navLinks.classList.remove('active');
              // 重置菜单图标
              const svg = mobileMenuBtn.querySelector('svg');
              if (svg) {
                svg.innerHTML = `
                  <line x1="3" y1="6" x2="21" y2="6"/>
                  <line x1="3" y1="12" x2="21" y2="12"/>
                  <line x1="3" y1="18" x2="21" y2="18"/>
                `;
              }
            }
          });
        });
        
        // 监听路由变化
        window.addEventListener('hashchange', navigate);
        
        // 显示动画
        function revealElements() {
          const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
              if (entry.isIntersecting) {
                entry.target.classList.add('show');
                observer.unobserve(entry.target);
              }
            });
          }, { threshold: 0.1 });
          
          document.querySelectorAll('.reveal').forEach(el => {
            observer.observe(el);
          });
        }
        
        // 联系模态框
        document.getElementById('openContact')?.addEventListener('click', () => {
          document.getElementById('contactModal')?.classList.add('open');
        });
        
        document.getElementById('openContact2')?.addEventListener('click', () => {
          document.getElementById('contactModal')?.classList.add('open');
        });
        
        // 项目详情
        window.openProject = (projectId) => {
          const modal = document.getElementById('projectModal');
          const title = document.getElementById('projectTitle');
          const body = document.getElementById('projectBody');
          const lang = document.documentElement.getAttribute('lang') || 'zh';
          const project = projectData[projectId];
          
          if (!project || !modal) return;
          
          title.textContent = lang === 'zh' ? project.title : project.titleEn;
          
          const highlights = lang === 'zh' ? project.highlights : project.highlightsEn;
          const description = lang === 'zh' ? project.description : project.descriptionEn;
          
          // 添加图片展示
          let imagesHtml = '';
          if (project.images && project.images.length > 0) {
            imagesHtml = `
              <div style="margin: 24px 0;">
                <h4 style="margin: 0 0 16px; color: rgb(var(--fg)); font-size: 1.1rem;">${lang === 'zh' ? '作品展示' : 'My Dishes'}</h4>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 20px;">
                  ${project.images.map(img => `
                    <div style="border-radius: 12px; overflow: hidden; background: rgba(var(--card), 0.5); border: 1px solid rgba(var(--border), 0.3);">
                      <div style="width: 100%; height: 280px; background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%); display: flex; align-items: center; justify-content: center; position: relative;">
                        <img src="${img.src}" alt="${lang === 'zh' ? img.name : img.nameEn}" style="width: 100%; height: 100%; object-fit: cover; transition: transform 0.3s ease;" loading="lazy" onload="this.style.opacity='1'; this.nextElementSibling.style.display='none';" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';" onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">
                        <div style="display: flex; align-items: center; justify-content: center; color: rgb(var(--muted)); font-size: 14px; position: absolute; top: 0; left: 0; right: 0; bottom: 0;">
                          <span>${lang === 'zh' ? '图片加载失败' : 'Image failed to load'}</span>
                        </div>
                      </div>
                      <div style="padding: 12px; text-align: center; color: rgb(var(--fg)); font-size: 0.9rem; font-weight: 500;">
                        ${lang === 'zh' ? img.name : img.nameEn}
                      </div>
                    </div>
                  `).join('')}
                </div>
              </div>
            `;
          }
          
          // 检查是否有子模块（AI应用）
          let subModulesHtml = '';
          if (project.subModules && project.subModules.length > 0) {
            subModulesHtml = `
              <div style="margin: 24px 0;">
                <h4 style="margin: 0 0 16px; color: rgb(var(--fg)); font-size: 1.1rem;">${lang === 'zh' ? '应用领域' : 'Application Areas'}</h4>
                <div style="display: grid; gap: 16px;">
                  ${project.subModules.map((subModule, index) => `
                    <div class="sub-module-card" onclick="showSubModuleDetails('${projectId}', ${index})" style="
                      padding: 18px;
                      background: rgba(var(--card), 0.9);
                      border: 2px solid rgb(var(--accent));
                      border-radius: 12px;
                      cursor: pointer;
                      transition: all 0.2s ease;
                      position: relative;
                      overflow: hidden;
                      box-shadow: 0 4px 12px rgba(var(--accent), 0.15);
                      touch-action: manipulation;
                      -webkit-tap-highlight-color: transparent;
                    " onmouseover="
                      if(window.innerWidth > 768) {
                        this.style.transform='translateY(-2px)';
                        this.style.borderColor='rgb(var(--accent))';
                        this.style.boxShadow='0 8px 24px rgba(var(--accent), 0.25)';
                        this.style.background='rgba(var(--card), 1)';
                      }
                    " onmouseout="
                      if(window.innerWidth > 768) {
                        this.style.transform='translateY(0)';
                        this.style.borderColor='rgb(var(--accent))';
                        this.style.boxShadow='0 4px 12px rgba(var(--accent), 0.15)';
                        this.style.background='rgba(var(--card), 0.9)';
                      }
                    " ontouchstart="
                      this.style.transform='scale(0.98)';
                      this.style.background='rgba(var(--accent), 0.1)';
                    " ontouchend="
                      setTimeout(() => {
                        this.style.transform='scale(1)';
                        this.style.background='rgba(var(--card), 0.9)';
                      }, 150);
                    ">
                      <h5 style="margin: 0 0 8px; color: rgb(var(--primary)); font-size: 1rem; font-weight: 600;">
                        ${lang === 'zh' ? subModule.title : subModule.titleEn}
                      </h5>
                      <p style="margin: 0 0 12px; color: rgb(var(--muted)); font-size: 0.9rem; line-height: 1.5;">
                        ${lang === 'zh' ? subModule.description : subModule.descriptionEn}
                      </p>
                      <div style="display: flex; flex-wrap: wrap; gap: 8px; margin-bottom: 8px;">
                        ${(lang === 'zh' ? subModule.tags : subModule.tagsEn).map(tag => `
                          <span style="padding: 4px 10px; background: rgba(var(--accent), 0.1); color: rgb(var(--accent)); border-radius: 16px; font-size: 0.8rem; font-weight: 500;">
                            ${tag}
                          </span>
                        `).join('')}
                      </div>
                      <div style="display: flex; align-items: center; gap: 6px; color: rgb(var(--primary)); font-size: 0.85rem; font-weight: 500; margin-top: 8px;">
                        <span>${lang === 'zh' ? '点击了解更多' : 'Click to learn more'}</span>
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                          <path d="M5 12h14M12 5l7 7-7 7"/>
                        </svg>
                      </div>
                    </div>
                  `).join('')}
                </div>
              </div>
            `;
          }

          body.innerHTML = `
            <div style="padding: 20px;">
              <p style="font-size: 1.15rem; line-height: 1.8; margin-bottom: 24px; color: rgb(var(--fg));">
                ${description}
              </p>
              ${imagesHtml}
              ${subModulesHtml}
              ${highlights.length > 0 ? `
                <div style="display: flex; flex-wrap: wrap; gap: 12px; margin-top: 24px;">
                  ${highlights.map(h => `
                    <span style="padding: 8px 16px; background: rgba(var(--primary), 0.1); color: rgb(var(--primary)); border-radius: 20px; font-weight: 500;">
                      ${h}
                    </span>
                  `).join('')}
                </div>
              ` : (project.subModules ? '' : '<p style="color: rgb(var(--muted));">内容待补充...</p>')}
            </div>
          `;
          
          modal.classList.add('open');
        };
        
        window.closeModal = (modalId) => {
          document.getElementById(modalId)?.classList.remove('open');
        };
        
        // 显示子模块详情
        window.showSubModuleDetails = (projectId, subModuleIndex) => {
          const project = projectData[projectId];
          const subModule = project.subModules[subModuleIndex];
          const lang = document.documentElement.getAttribute('lang') || 'zh';
          
          if (!subModule) return;
          
          // 创建子模块详情模态框
          const existingModal = document.getElementById('subModuleModal');
          if (existingModal) {
            existingModal.remove();
          }
          
          // 添加视频展示（如果是图片视频模块）
          let videosHtml = '';
          if (subModule.videos && subModule.videos.length > 0) {
            videosHtml = `
              <div style="margin: 24px 0;">
                <h4 style="margin: 0 0 16px; color: rgb(var(--fg)); font-size: 1.1rem;">${lang === 'zh' ? '视频作品' : 'Video Works'}</h4>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px;">
                  ${subModule.videos.map(video => `
                    <div style="border-radius: 12px; overflow: hidden; background: rgba(var(--card), 0.5); border: 1px solid rgba(var(--border), 0.3);">
                      <video controls style="width: 100%; height: 200px; object-fit: cover;" preload="metadata">
                        <source src="${video.src}" type="video/mp4">
                        ${lang === 'zh' ? '您的浏览器不支持视频播放' : 'Your browser does not support video playback'}
                      </video>
                      <div style="padding: 12px; text-align: center; color: rgb(var(--fg)); font-size: 0.9rem; font-weight: 500;">
                        ${lang === 'zh' ? video.name : video.nameEn}
                      </div>
                    </div>
                  `).join('')}
                </div>
              </div>
            `;
          }
          
          const modalHtml = `
            <div class="modal project-modal" id="subModuleModal">
              <div class="project-backdrop" onclick="closeModal('subModuleModal')"></div>
              <div class="project-content" style="max-width: 800px;">
                <div class="project-header">
                  <h2>${lang === 'zh' ? subModule.title : subModule.titleEn}</h2>
                  <button class="close-btn" onclick="closeModal('subModuleModal')">×</button>
                </div>
                <div class="project-body">
                  <div style="padding: 20px;">
                    <p style="font-size: 1.1rem; line-height: 1.7; margin-bottom: 24px; color: rgb(var(--fg));">
                      ${lang === 'zh' ? subModule.description : subModule.descriptionEn}
                    </p>
                    ${videosHtml}
                    ${subModule.demos ? `
                      <div style="margin: 24px 0;">
                        <h4 style="margin: 0 0 16px; color: rgb(var(--fg)); font-size: 1.1rem;">${lang === 'zh' ? '作品展示' : 'Demo Works'}</h4>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px;">
                          ${subModule.demos.map(demo => `
                            <div style="border-radius: 12px; overflow: hidden; background: rgba(var(--card), 0.5); border: 1px solid rgba(var(--border), 0.3); transition: transform 0.2s ease;">
                              <div style="width: 100%; height: 200px; background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%); display: flex; align-items: center; justify-content: center; position: relative;">
                                <iframe
                                  src="${demo.url}"
                                  style="width: 100%; height: 100%; border: none; transform: scale(0.8); transform-origin: center; pointer-events: auto;"
                                  title="${lang === 'zh' ? demo.name : demo.nameEn}"
                                  loading="lazy"
                                  sandbox="allow-scripts allow-same-origin allow-forms">
                                </iframe>
                              </div>
                              <div style="padding: 16px;">
                                <h5 style="margin: 0 0 8px; color: rgb(var(--fg)); font-size: 1rem; font-weight: 600;">
                                  ${lang === 'zh' ? demo.name : demo.nameEn}
                                </h5>
                                <p style="margin: 0 0 12px; color: rgb(var(--muted)); font-size: 0.9rem; line-height: 1.4;">
                                  ${lang === 'zh' ? demo.description : demo.descriptionEn}
                                </p>
                                <a href="${demo.url}" target="_blank" class="btn primary" style="display: inline-flex; align-items: center; gap: 6px; text-decoration: none; font-size: 0.85rem; padding: 6px 12px;">
                                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6M15 3h6v6M10 14 21 3"/>
                                  </svg>
                                  ${lang === 'zh' ? '查看完整版' : 'View Full'}
                                </a>
                              </div>
                            </div>
                          `).join('')}
                        </div>
                      </div>
                    ` : ''}
                    <div style="margin-bottom: 20px;">
                      <h4 style="margin: 0 0 12px; color: rgb(var(--fg)); font-size: 1rem;">${lang === 'zh' ? '相关技能' : 'Related Skills'}</h4>
                      <div style="display: flex; flex-wrap: wrap; gap: 10px;">
                        ${(lang === 'zh' ? subModule.tags : subModule.tagsEn).map(tag => `
                          <span style="padding: 6px 14px; background: rgba(var(--accent), 0.1); color: rgb(var(--accent)); border-radius: 20px; font-weight: 500; font-size: 0.9rem;">
                            ${tag}
                          </span>
                        `).join('')}
                      </div>
                    </div>
                    <div style="padding: 16px; background: rgba(var(--accent), 0.05); border-radius: 12px; border-left: 4px solid rgb(var(--accent));">
                      <p style="margin: 0; color: rgb(var(--muted)); font-size: 0.9rem; line-height: 1.6;">
                        ${lang === 'zh' ? '这是我正在探索和学习的AI应用领域之一，持续关注相关技术发展和实践应用。' : 'This is one of the AI application areas I am exploring and learning, continuously following related technology developments and practical applications.'}
                      </p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          `;
          
          document.body.insertAdjacentHTML('beforeend', modalHtml);
          document.getElementById('subModuleModal').classList.add('open');
        };
        
        window.copyEmail = async () => {
          try {
            await navigator.clipboard.writeText('ezhou9403@Gmail.com');
            // 创建临时提示
            const btn = event.currentTarget;
            const originalText = btn.querySelector('span').textContent;
            btn.querySelector('span').textContent = '已复制!';
            btn.style.background = 'rgba(var(--success), 0.1)';
            btn.style.borderColor = 'rgb(var(--success))';
            btn.style.color = 'rgb(var(--success))';
            
            setTimeout(() => {
              btn.querySelector('span').textContent = originalText;
              btn.style.background = '';
              btn.style.borderColor = '';
              btn.style.color = '';
            }, 2000);
          } catch (e) {
            console.error('复制失败', e);
            alert('复制失败，请手动复制');
          }
        };
        
        // 头像处理
        const avatar = document.getElementById('userAvatar');
        const fallback = document.getElementById('avatarFallback');
        
        if (avatar) {
          avatar.addEventListener('error', () => {
            avatar.style.display = 'none';
            if (fallback) fallback.style.display = 'block';
          });
        }
        
        // 移动端菜单切换
        const mobileMenuBtn = document.getElementById('mobileMenuBtn');
        const navLinks = document.querySelector('.nav-links');
        
        if (mobileMenuBtn && navLinks) {
          mobileMenuBtn.addEventListener('click', () => {
            navLinks.classList.toggle('active');
            
            // 切换菜单图标
            const svg = mobileMenuBtn.querySelector('svg');
            if (navLinks.classList.contains('active')) {
              // 显示关闭图标
              svg.innerHTML = `
                <line x1="18" y1="6" x2="6" y2="18"/>
                <line x1="6" y1="6" x2="18" y2="18"/>
              `;
            } else {
              // 显示菜单图标
              svg.innerHTML = `
                <line x1="3" y1="6" x2="21" y2="6"/>
                <line x1="3" y1="12" x2="21" y2="12"/>
                <line x1="3" y1="18" x2="21" y2="18"/>
              `;
            }
          });
          
          
          // 点击页面其他地方关闭移动菜单
          document.addEventListener('click', (e) => {
            if (!mobileMenuBtn.contains(e.target) && !navLinks.contains(e.target)) {
              navLinks.classList.remove('active');
              // 重置菜单图标
              const svg = mobileMenuBtn.querySelector('svg');
              if (svg) {
                svg.innerHTML = `
                  <line x1="3" y1="6" x2="21" y2="6"/>
                  <line x1="3" y1="12" x2="21" y2="12"/>
                  <line x1="3" y1="18" x2="21" y2="18"/>
                `;
              }
            }
          });
          
          // 窗口大小变化时关闭移动菜单
          window.addEventListener('resize', () => {
            if (window.innerWidth > 768) {
              navLinks.classList.remove('active');
              // 重置菜单图标
              const svg = mobileMenuBtn.querySelector('svg');
              if (svg) {
                svg.innerHTML = `
                  <line x1="3" y1="6" x2="21" y2="6"/>
                  <line x1="3" y1="12" x2="21" y2="12"/>
                  <line x1="3" y1="18" x2="21" y2="18"/>
                `;
              }
            }
          });
        }
        
        // 初始化
        document.getElementById('year').textContent = new Date().getFullYear();
        
        // 设置初始语言
        const storedLang = localStorage.getItem('lang') || 'zh';
        document.documentElement.setAttribute('lang', storedLang);
        
        // 初始化
        initTheme();
        initParticles();
        applyI18n();
        
        if (!location.hash) {
          location.hash = '#/';
        } else {
          navigate();
        }
        
        // 页面加载完成后触发动画
        window.addEventListener('load', () => {
          revealElements();
          
          // 隐藏加载动画
          setTimeout(() => {
            document.getElementById('loading')?.style.setProperty('display', 'none');
          }, 500);
        });
        
        // 性能优化：使用 requestIdleCallback 进行非关键任务
        if ('requestIdleCallback' in window) {
          requestIdleCallback(() => {
            // 预加载字体
            document.fonts.load('1rem -apple-system');
          });
        }
      })();
    </script>
  </body>
</html>
