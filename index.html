<!doctype html>
<html lang="zh" data-theme="dark">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Mitasul · 首页</title>
    <meta name="description" content="Mitasul 的个人主页">
    <meta name="color-scheme" content="light dark">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <style>
      /* 深沉配色方案 */
      :root{
        --bg: 10 10 20;
        --fg: 230 235 240;
        --muted: 120 130 145;
        --primary: 64 90 167;
        --primary-strong: 48 68 130;
        --accent: 139 92 246;
        --accent-light: 168 162 255;
        --card: 18 20 36;
        --border: 35 38 58;
        --radius: 14px;
        --shadow: 0 16px 48px rgba(0,0,0,.6);
        --glass: rgba(18, 20, 36, 0.8);
        --blur: 18px;
        --ring: 64 90 167;
        --success: 34 197 94;
        --warning: 234 179 8;
        --gradient: linear-gradient(135deg, rgb(var(--primary)), rgb(var(--accent)));
        --gradient-accent: linear-gradient(135deg, rgb(var(--accent)), rgb(var(--accent-light)));
      }
      
      [data-theme="light"]{
        --bg: 249 250 251;
        --fg: 17 24 39;
        --muted: 107 114 128;
        --primary: 59 130 246;
        --primary-strong: 37 99 235;
        --accent: 99 102 241;
        --accent-light: 79 70 229;
        --card: 255 255 255;
        --border: 229 231 235;
        --glass: rgba(255, 255, 255, 0.9);
        --shadow: 0 16px 48px rgba(0,0,0,.08);
        --ring: 96 165 250;
      }
      
      /* 性能优化：GPU加速 */
      *{ 
        box-sizing: border-box;
        -webkit-tap-highlight-color: transparent;
      }
      
      html,body{ 
        height:100%; 
        margin: 0;
        overscroll-behavior: none;
      }
      
      html{ 
        scroll-behavior: smooth;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
      }
      
      body{
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji";
        color: rgb(var(--fg));
        background: rgb(var(--bg));
        line-height: 1.7;
        letter-spacing: 0.02em;
        position: relative;
        overflow-x: hidden;
      }
      
      /* 动态背景效果 */
      body::before{
        content:"";
        position:fixed;
        inset:0;
        z-index:-2;
        pointer-events:none;
        background:
          radial-gradient(circle at 20% 80%, rgba(var(--primary)/.15), transparent 50%),
          radial-gradient(circle at 80% 20%, rgba(var(--accent)/.1), transparent 50%),
          radial-gradient(circle at 40% 40%, rgba(var(--accent-light)/.08), transparent 50%);
        filter: blur(60px);
        opacity: 0.6;
        transform: translateZ(0);
        will-change: transform;
        animation: float 25s ease-in-out infinite;
      }
      
      @keyframes float {
        0%, 100% { transform: translateZ(0) scale(1) rotate(0deg); }
        33% { transform: translateZ(0) scale(1.05) rotate(1deg); }
        66% { transform: translateZ(0) scale(0.95) rotate(-1deg); }
      }
      
      /* 流体粒子背景 */
      .particles {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        overflow: hidden;
        z-index: -1;
        pointer-events: none;
      }
      
      .particle {
        position: absolute;
        width: 3px;
        height: 3px;
        background: rgba(var(--primary), 0.3);
        border-radius: 50%;
        animation: particle-float 20s infinite linear;
        will-change: transform;
        opacity: 0.6;
      }
      
      @keyframes particle-float {
        from {
          transform: translateY(100vh) translateZ(0);
          opacity: 0;
        }
        10% {
          opacity: 1;
        }
        90% {
          opacity: 1;
        }
        to {
          transform: translateY(-100vh) translateZ(0);
          opacity: 0;
        }
      }
      
      /* 优化的页面切换动画 */
      ::view-transition-old(root){ 
        animation: slide-out 0.3s cubic-bezier(0.4, 0, 0.2, 1) both;
      }
      ::view-transition-new(root){ 
        animation: slide-in 0.3s cubic-bezier(0.4, 0, 0.2, 1) both;
      }
      
      @keyframes slide-out{
        to{ 
          transform: translateX(-10%) scale(0.95);
          opacity: 0;
        }
      }
      
      @keyframes slide-in{
        from{ 
          transform: translateX(10%) scale(0.95);
          opacity: 0;
        }
        to{
          transform: translateX(0) scale(1);
          opacity: 1;
        }
      }
      
      .container{ 
        max-width: 1280px;
        padding: 0 24px;
        margin: 0 auto;
      }
      
      /* 顶部提示栏 */
      .topline{
        text-align: center;
        padding: 10px 16px;
        font-size: 0.95rem;
        letter-spacing: 0.05em;
        background: var(--glass);
        border-bottom: 1px solid rgb(var(--border)/.6);
        backdrop-filter: blur(var(--blur)) saturate(180%);
        -webkit-backdrop-filter: blur(var(--blur)) saturate(180%);
        transform: translateZ(0);
      }
      
      /* 导航栏优化 */
      .site-header{
        position: sticky;
        top: 0;
        z-index: 40;
        backdrop-filter: blur(var(--blur)) saturate(180%);
        -webkit-backdrop-filter: blur(var(--blur)) saturate(180%);
        background: var(--glass);
        border-bottom: 1px solid rgb(var(--border)/.5);
        transform: translateZ(0);
        will-change: transform;
      }
      
      .nav{
        display: flex;
        align-items: center;
        justify-content: space-between;
        height: 72px;
        position: relative;
      }
      
      .brand{
        display: flex;
        align-items: center;
        gap: 12px;
        text-decoration: none;
        font-weight: 700;
        font-size: 1.2rem;
        color: rgb(var(--fg));
        transition: transform 0.2s cubic-bezier(0.4, 0, 0.2, 1);
      }
      
      .brand:hover{
        transform: translateY(-2px);
      }
      
      .brand svg{
        filter: drop-shadow(0 4px 12px rgba(var(--primary)/.4));
        transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      }
      
      .brand:hover svg{
        transform: rotate(5deg) scale(1.1);
      }
      
      .nav-links{
        display: flex;
        gap: 8px;
        list-style: none;
        margin: 0;
        padding: 0;
        position: relative;
      }
      
      .nav-links a, .linklike{
        color: rgb(var(--muted));
        text-decoration: none;
        background: none;
        border: none;
        cursor: pointer;
        font: inherit;
        padding: 8px 16px;
        border-radius: 10px;
        transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
        position: relative;
        overflow: hidden;
      }
      
      .nav-links a::before{
        content: '';
        position: absolute;
        top: 50%;
        left: 50%;
        width: 0;
        height: 0;
        border-radius: 50%;
        background: rgba(var(--primary), 0.15);
        transform: translate(-50%, -50%);
        transition: width 0.3s, height 0.3s;
      }
      
      .nav-links a:hover::before{
        width: 100%;
        height: 100%;
      }
      
      .nav-links a:hover, .linklike:hover{
        color: rgb(var(--fg));
        background: rgba(var(--primary), 0.12);
        transform: translateY(-1px);
      }
      
      .nav-links a.active{
        color: white;
        background: rgb(var(--primary));
        font-weight: 600;
        box-shadow: 0 4px 12px rgba(var(--primary), 0.3);
      }
      
      /* 控制按钮 */
      .controls{
        display: flex;
        align-items: center;
        gap: 12px;
      }
      
      .theme-toggle, .lang-toggle{
        height: 44px;
        padding: 0 16px;
        border-radius: 22px;
        border: 1px solid rgb(var(--border)/.6);
        background: var(--glass);
        color: rgb(var(--fg));
        backdrop-filter: blur(var(--blur));
        -webkit-backdrop-filter: blur(var(--blur));
        cursor: pointer;
        transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
        display: flex;
        align-items: center;
        gap: 8px;
        font-size: 0.95rem;
        font-weight: 500;
      }
      
      .theme-toggle{
        width: 44px;
        padding: 0;
        justify-content: center;
      }
      
      .theme-toggle:hover, .lang-toggle:hover{
        transform: translateY(-2px);
        box-shadow: 0 8px 24px rgba(var(--primary)/.2);
        border-color: rgb(var(--primary)/.5);
      }
      
      .theme-toggle:active, .lang-toggle:active{
        transform: translateY(0);
      }
      
      /* Hero 区域 */
      .hero{
        padding: 100px 0 60px;
        position: relative;
      }
      
      .hero-grid{
        display: grid;
        grid-template-columns: 1.2fr 0.8fr;
        gap: 48px;
        align-items: center;
      }
      
      .hero h1{
        font-size: clamp(36px, 6vw, 64px);
        line-height: 1.1;
        margin: 0 0 16px;
        background: var(--gradient);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        animation: gradient-shift 4s ease infinite;
      }
      
      @keyframes gradient-shift {
        0%, 100% { filter: hue-rotate(0deg); }
        50% { filter: hue-rotate(30deg); }
      }
      
      .hero .lead{
        font-size: clamp(18px, 2.5vw, 24px);
        color: rgb(var(--muted));
        margin: 0 0 32px;
        line-height: 1.6;
      }
      
      /* 玻璃态卡片 */
      .glass{
        background: var(--glass);
        border: 1px solid rgb(var(--border)/.5);
        border-radius: var(--radius);
        box-shadow: var(--shadow);
        backdrop-filter: blur(var(--blur)) saturate(150%);
        -webkit-backdrop-filter: blur(var(--blur)) saturate(150%);
        transform: translateZ(0);
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      }
      
      .glass:hover{
        transform: translateY(-4px);
        box-shadow: 0 30px 80px rgba(0,0,0,.3);
      }
      
      /* 动画效果 */
      .reveal{
        opacity: 0;
        transform: translateY(20px);
      }
      
      .reveal.show{
        opacity: 1;
        transform: translateY(0);
        transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
      }
      
      /* 头像优化 */
      .hero-media{
        position: relative;
        min-height: 320px;
      }
      
      .avatar{
        width: 100%;
        max-width: 320px;
        height: auto;
        display: block;
        object-fit: cover;
        border-radius: 16px;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        transform: translateZ(0);
      }
      
      .avatar:hover{
        transform: scale(1.05) rotate(2deg);
        box-shadow: 0 30px 60px rgba(var(--primary)/.3);
      }
      
      /* 按钮样式 */
      .btn{
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
        padding: 12px 24px;
        border-radius: 12px;
        border: 1px solid rgb(var(--border)/.5);
        text-decoration: none;
        color: rgb(var(--fg));
        background: var(--glass);
        backdrop-filter: blur(var(--blur));
        -webkit-backdrop-filter: blur(var(--blur));
        transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
        cursor: pointer;
        font-weight: 500;
        position: relative;
        overflow: hidden;
        transform: translateZ(0);
      }
      
      .btn::before{
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255,255,255,.2), transparent);
        transition: left 0.5s;
      }
      
      .btn:hover::before{
        left: 100%;
      }
      
      .btn:hover{
        transform: translateY(-2px);
        box-shadow: 0 12px 32px rgba(var(--primary)/.2);
      }
      
      .btn.primary{
        background: var(--gradient);
        color: white;
        border: none;
        box-shadow: 0 8px 24px rgba(var(--primary)/.3);
      }
      
      .btn.primary:hover{
        box-shadow: 0 12px 40px rgba(var(--primary)/.4);
      }
      
      /* 技能项目卡片 - 可点击展开 */
      .skills-grid{
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 24px;
        margin-top: 32px;
      }
      
      .skill-card{
        background: var(--glass);
        border: 1px solid rgb(var(--border)/.5);
        border-radius: var(--radius);
        padding: 24px;
        cursor: pointer;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        position: relative;
        overflow: hidden;
        transform: translateZ(0);
      }
      
      .skill-card::before{
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(var(--primary), 0.08);
        opacity: 0;
        transition: opacity 0.3s;
      }
      
      .skill-card:hover::before{
        opacity: 1;
      }
      
      .skill-card:hover{
        transform: translateY(-4px);
        box-shadow: 0 16px 40px rgba(0,0,0,.4);
        border-color: rgb(var(--primary)/.6);
        background: rgba(var(--card), 0.95);
      }
      
      .skill-card h3{
        margin: 0 0 12px;
        font-size: 1.3rem;
        color: rgb(var(--primary));
        transition: all 0.3s;
      }
      
      .skill-card:hover h3{
        color: rgb(var(--accent-light));
        text-shadow: 0 0 20px rgba(var(--accent-light), 0.3);
      }
      
      .skill-card p{
        color: rgb(var(--muted));
        margin: 0 0 16px;
        line-height: 1.6;
        transition: color 0.3s;
      }
      
      .skill-card:hover p{
        color: rgb(var(--fg));
      }
      
      .skill-tags{
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
      }
      
      .skill-tag{
        padding: 4px 12px;
        background: rgba(var(--primary), 0.1);
        color: rgb(var(--primary));
        border-radius: 20px;
        font-size: 0.85rem;
        font-weight: 500;
        transition: all 0.3s;
      }
      
      .skill-card:hover .skill-tag{
        background: rgba(var(--primary), 0.2);
        color: rgb(var(--accent-light));
        border: 1px solid rgba(var(--primary), 0.3);
      }
      
      /* 项目详情模态框 */
      .project-modal{
        position: fixed;
        inset: 0;
        display: none;
        z-index: 100;
        padding: 20px;
        overflow-y: auto;
      }
      
      .project-modal.open{
        display: flex;
        align-items: center;
        justify-content: center;
        animation: fade-in 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      }
      
      @keyframes fade-in{
        from{ opacity: 0; }
        to{ opacity: 1; }
      }
      
      .project-backdrop{
        position: absolute;
        inset: 0;
        background: rgba(0, 0, 0, 0.8);
        backdrop-filter: blur(8px);
        -webkit-backdrop-filter: blur(8px);
      }
      
      .project-content{
        position: relative;
        width: min(900px, calc(100% - 40px));
        max-height: calc(100vh - 40px);
        background: rgb(var(--card));
        border: 1px solid rgb(var(--border)/.5);
        border-radius: var(--radius);
        overflow: hidden;
        animation: scale-up 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      }
      
      @keyframes scale-up{
        from{ transform: scale(0.9); opacity: 0; }
        to{ transform: scale(1); opacity: 1; }
      }
      
      .project-header{
        padding: 24px;
        border-bottom: 1px solid rgb(var(--border)/.3);
        display: flex;
        justify-content: space-between;
        align-items: center;
      }
      
      .project-body{
        padding: 24px;
        overflow-y: auto;
        max-height: calc(100vh - 180px);
      }
      
      .project-video{
        width: 100%;
        border-radius: 12px;
        margin-bottom: 24px;
      }
      
      .close-btn{
        width: 40px;
        height: 40px;
        border-radius: 50%;
        background: rgba(var(--fg), 0.1);
        border: none;
        color: rgb(var(--fg));
        cursor: pointer;
        display: grid;
        place-items: center;
        font-size: 24px;
        transition: all 0.2s;
      }
      
      .close-btn:hover{
        background: rgba(var(--primary), 0.2);
        transform: rotate(90deg);
      }
      
      /* 页面切换优化 */
      .page{
        display: none;
        min-height: 60vh;
      }
      
      .page.active{
        display: block;
        animation: page-fade 0.4s cubic-bezier(0.4, 0, 0.2, 1) both;
      }
      
      @keyframes page-fade{
        from{
          opacity: 0;
          transform: translateY(20px);
        }
        to{
          opacity: 1;
          transform: translateY(0);
        }
      }
      
      /* 响应式优化 */
      @media (max-width: 900px){
        .hero-grid{
          grid-template-columns: 1fr;
          gap: 32px;
        }
        .skills-grid{
          grid-template-columns: 1fr;
        }
      }
      
      @media (max-width: 640px){
        .nav{
          height: 60px;
        }
        .nav-links{
          display: none;
        }
        .hero{
          padding: 60px 0 40px;
        }
        .container{
          padding: 0 16px;
        }
      }
      
      /* 滚动条美化 */
      ::-webkit-scrollbar{
        width: 10px;
        height: 10px;
      }
      
      ::-webkit-scrollbar-track{
        background: rgba(var(--muted), 0.1);
      }
      
      ::-webkit-scrollbar-thumb{
        background: rgba(var(--primary), 0.5);
        border-radius: 5px;
      }
      
      ::-webkit-scrollbar-thumb:hover{
        background: rgba(var(--primary), 0.7);
      }
      
      /* 加载动画 */
      .loading{
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        height: 3px;
        background: var(--gradient);
        transform-origin: left;
        animation: loading 1s ease-in-out infinite;
      }
      
      @keyframes loading{
        0%{ transform: scaleX(0); }
        50%{ transform: scaleX(1); }
        100%{ transform: scaleX(0); transform-origin: right; }
      }
      
      /* 优化打印样式 */
      @media print{
        body{ background: white; }
        .controls, .nav-links, .modal{ display: none; }
      }
      
      /* 增强可访问性 */
      :focus-visible{
        outline: 2px solid rgb(var(--primary));
        outline-offset: 2px;
      }
      
      /* 减少动画 */
      @media (prefers-reduced-motion: reduce){
        *, *::before, *::after{
          animation-duration: 0.01ms !important;
          animation-iteration-count: 1 !important;
          transition-duration: 0.01ms !important;
        }
      }
    </style>
  </head>
  <body>
    <div class="loading" id="loading" style="display:none;"></div>
    <div class="particles" id="particles"></div>
    <div class="topline" id="topline" data-i18n="bar.welcome">你好，欢迎来到我的空间。</div>
    
    <header class="site-header">
      <nav class="nav container" aria-label="主导航">
        <a class="brand" href="#/" aria-label="Mitasul home">
          <svg width="32" height="32" viewBox="0 0 32 32" fill="none" aria-hidden="true">
            <rect width="32" height="32" rx="8" fill="url(#grad)"/>
            <defs>
              <linearGradient id="grad" x1="0%" y1="0%" x2="100%" y2="100%">
                <stop offset="0%" style="stop-color:rgb(64,90,167);stop-opacity:1" />
                <stop offset="100%" style="stop-color:rgb(139,92,246);stop-opacity:1" />
              </linearGradient>
            </defs>
            <path d="M8 20L12 12L16 17L20 12L24 20" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          <span>Mitasul</span>
        </a>
        <ul class="nav-links">
          <li><a href="#/" data-route="home" data-i18n="nav.home">首页</a></li>
          <li><a href="#/about" data-route="about" data-i18n="nav.about">兴趣爱好</a></li>
          <li><a href="#/skills-projects" data-route="skills-projects" data-i18n="nav.skillsProjects">技能与项目</a></li>
          <li><a href="#/thoughts" data-route="thoughts" data-i18n="nav.thoughts">随想</a></li>
          <li><button id="openContact" class="linklike" data-i18n="nav.contact">联系</button></li>
        </ul>
        <div class="controls">
          <button class="lang-toggle" id="langToggle" aria-label="Language / 语言">
            <span>中 / EN</span>
          </button>
          <button class="theme-toggle" id="themeToggle" aria-label="切换主题">
            <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="12" cy="12" r="5"/>
              <line x1="12" y1="1" x2="12" y2="3"/>
              <line x1="12" y1="21" x2="12" y2="23"/>
              <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/>
              <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/>
              <line x1="1" y1="12" x2="3" y2="12"/>
              <line x1="21" y1="12" x2="23" y2="12"/>
              <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/>
              <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/>
            </svg>
          </button>
        </div>
      </nav>
    </header>

    <main>
      <section id="page-home" class="page active">
        <section class="hero container">
          <div class="hero-grid">
            <div>
              <h1 class="reveal" data-i18n="hero.title">Mitasul</h1>
              <p class="lead reveal" data-i18n="hero.lead">一个AI的忠实爱好者与实践者。</p>
              <div class="prose">
                <p class="reveal" data-i18n="home.p1">我的人生哲学很简单：由好奇心驱动，而非路线图。正是这份好奇，让我对 AI 的创造力深深着迷——无论是前端代码的灵动生成，还是创意写作的无限可能，都让我沉醉其中。</p>
                <p class="reveal" data-i18n="home.p2">这个网站是我的个人实验室，也是我的分享平台。我在这里记录我对 AI 应用的探索、思考，以及将各种大模型应用于不同场景的实践心得。建立它的目的很简单：让更多的人知道我，并与可能的朋友、未来的合作伙伴在此相遇。</p>
                <p class="reveal" data-i18n="home.p3">工作和探索之余，我的精神世界同样丰富。我能在 Funk 的律动与古典音乐的庄严之间寻找慰藉，也享受一个人在海边看天空的宁静。</p>
                <p class="reveal" data-i18n="home.p4">当然，还有《三国志》。它不仅仅是英雄史诗，更蕴含着洞察世事的智慧。我尤其欣赏其中一句：</p>
                <blockquote class="reveal glass" style="padding: 20px; margin: 24px 0;">
                  <span data-i18n="home.quote" style="font-size: 1.1rem; font-weight: 500;">"治疾及其未笃，除患贵其未深。"</span>
                  <cite data-i18n="home.quoteCite" style="display: block; margin-top: 12px; color: rgb(var(--muted)); font-style: normal;">—— 三国志</cite>
                </blockquote>
                <p class="reveal" data-i18n="home.p5">这句话也时刻提醒着我，在技术的浪潮中，要保持远见，防微杜渐。</p>
                <p class="reveal" data-i18n="home.p6">期待在这里与你思想碰撞。</p>
              </div>
              <div class="cta reveal" style="margin-top: 32px; display: flex; gap: 16px;">
                <button class="btn primary" id="openContact2" data-i18n="btn.contactMe">
                  联系我
                  <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M5 12h14M12 5l7 7-7 7"/>
                  </svg>
                </button>
                <a href="#/skills-projects" class="btn" data-i18n="btn.viewProjects">
                  查看项目
                </a>
              </div>
            </div>
            <div class="hero-media glass reveal" style="padding: 32px; display: flex; justify-content: center; align-items: center;">
              <img id="userAvatar" class="avatar" src="avatar.png" alt="Mitasul 的头像" loading="eager">
              <svg id="avatarFallback" viewBox="0 0 320 320" xmlns="http://www.w3.org/2000/svg" style="width:100%;max-width:320px;height:auto;display:none;">
                <defs>
                  <linearGradient id="avatar-grad" x1="0" y1="0" x2="1" y2="1">
                    <stop offset="0" stop-color="rgb(64,90,167)"/>
                    <stop offset="1" stop-color="rgb(139,92,246)"/>
                  </linearGradient>
                </defs>
                <rect width="320" height="320" rx="16" fill="url(#avatar-grad)"/>
                <circle cx="160" cy="110" r="44" fill="white" opacity=".9"/>
                <rect x="80" y="180" width="160" height="80" rx="28" fill="white" opacity=".9"/>
              </svg>
            </div>
          </div>
        </section>
      </section>

      <section id="page-about" class="page">
        <section class="container" style="padding: 60px 0;">
          <h1 class="reveal" data-i18n="about.title" style="font-size: 2.5rem; margin-bottom: 32px;">兴趣爱好</h1>
          <div class="prose reveal">
            <ul style="list-style: none; padding: 0;">
              <li style="padding: 12px 0; font-size: 1.1rem;" data-i18n="about.reading">📚 阅读</li>
              <li style="padding: 12px 0; font-size: 1.1rem;" data-i18n="about.writing">✍️ 写作</li>
            </ul>
            <p style="margin-top: 32px; padding: 16px; background: rgba(var(--primary), 0.1); border-radius: 12px; border-left: 4px solid rgb(var(--primary));" data-i18n="about.status">
              状态：开放合作 / 接受交流
            </p>
          </div>
        </section>
      </section>

      <section id="page-skills-projects" class="page">
        <section class="container" style="padding: 60px 0;">
          <h1 class="reveal" data-i18n="skillsProjects.title" style="font-size: 2.5rem; margin-bottom: 16px;">技能与项目</h1>
          <p class="reveal" style="color: rgb(var(--muted)); margin-bottom: 32px;" data-i18n="skillsProjects.subtitle">点击卡片查看详情</p>
          
          <div class="skills-grid">
            <div class="skill-card reveal" onclick="openProject('operations')">
              <h3 data-i18n="skillsProjects.ops">运营</h3>
              <p data-i18n="skillsProjects.opsDesc">（待补充）</p>
              <div class="skill-tags">
                <span class="skill-tag" data-i18n="skillsProjects.tagPending">待定</span>
              </div>
            </div>
            
            <div class="skill-card reveal" onclick="openProject('writing')">
              <h3 data-i18n="skillsProjects.write">写作</h3>
              <p data-i18n="skillsProjects.writeDesc">日常写作练习，记录想法和思考</p>
              <div class="skill-tags">
                <span class="skill-tag" data-i18n="skillsProjects.tagEssay">随笔</span>
                <span class="skill-tag" data-i18n="skillsProjects.tagRecord">记录</span>
              </div>
            </div>
            
            <div class="skill-card reveal" onclick="openProject('chef')">
              <h3 data-i18n="skillsProjects.chef">厨师</h3>
              <p data-i18n="skillsProjects.chefDesc">会做一些中餐家常菜</p>
              <div class="skill-tags">
                <span class="skill-tag" data-i18n="skillsProjects.tagChinese">中餐</span>
                <span class="skill-tag" data-i18n="skillsProjects.tagHomeCooking">家常菜</span>
              </div>
            </div>
            
            <div class="skill-card reveal" onclick="openProject('ai')">
              <h3 data-i18n="skillsProjects.ai">AI应用</h3>
              <p data-i18n="skillsProjects.aiDesc">探索和学习AI工具的使用</p>
              <div class="skill-tags">
                <span class="skill-tag" data-i18n="skillsProjects.tagAITools">AI工具</span>
                <span class="skill-tag" data-i18n="skillsProjects.tagLearning">学习中</span>
              </div>
            </div>
          </div>
        </section>
      </section>

      <section id="page-thoughts" class="page">
        <section class="container" style="padding: 60px 0;">
          <h1 class="reveal" data-i18n="thoughts.title" style="font-size: 2.5rem; margin-bottom: 32px;">随想</h1>
          <div class="prose reveal">
            <p id="thoughtsText" data-i18n="thoughts.text" style="font-size: 1.2rem; line-height: 1.8; color: rgb(var(--fg));">
              哲学家们只是用不同的方式解释世界，而问题在于改变世界。
            </p>
          </div>
        </section>
      </section>
    </main>

    <footer style="padding: 48px 0; border-top: 1px solid rgb(var(--border)/.3); margin-top: 80px;">
      <div class="container">
        <p style="color: rgb(var(--muted)); text-align: center;">
          © <span id="year"></span> Mitasul · Made with passion
        </p>
      </div>
    </footer>

    <!-- 联系模态框 -->
    <div class="modal project-modal" id="contactModal">
      <div class="project-backdrop" onclick="closeModal('contactModal')"></div>
      <div class="project-content" style="max-width: 500px;">
        <div class="project-header">
          <h2 data-i18n="contact.title">联系我</h2>
          <button class="close-btn" onclick="closeModal('contactModal')">×</button>
        </div>
        <div class="project-body">
          <div style="display: flex; flex-direction: column; gap: 24px;">
            <!-- 邮箱部分 -->
            <div>
              <h3 style="margin: 0 0 12px; font-size: 1rem; color: rgb(var(--muted));" data-i18n="contact.emailTitle">邮箱</h3>
              <div style="display: flex; align-items: center; gap: 12px; padding: 16px; background: rgba(var(--primary), 0.05); border-radius: 12px; border: 1px solid rgba(var(--border), 0.5);">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="rgb(var(--primary))" stroke-width="2">
                  <rect x="2" y="4" width="20" height="16" rx="2"/>
                  <path d="m22 7-10 5L2 7"/>
                </svg>
                <span style="font-family: 'Courier New', monospace; font-size: 1.05rem; color: rgb(var(--fg)); letter-spacing: 0.5px;">ezhou9403@Gmail.com</span>
              </div>
              <div style="display: flex; gap: 12px; margin-top: 12px;">
                <button class="btn" onclick="copyEmail()" style="flex: 1;">
                  <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <rect x="9" y="9" width="13" height="13" rx="2" ry="2"/>
                    <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/>
                  </svg>
                  <span data-i18n="contact.copy">复制邮箱</span>
                </button>
                <a class="btn primary" href="mailto:ezhou9403@Gmail.com" style="flex: 1;">
                  <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M22 2 11 13M22 2l-7 20-4-9-9-4 20-7z"/>
                  </svg>
                  <span data-i18n="contact.emailMe">发邮件</span>
                </a>
              </div>
            </div>
            
            <!-- GitHub部分 -->
            <div>
              <h3 style="margin: 0 0 12px; font-size: 1rem; color: rgb(var(--muted));" data-i18n="contact.githubTitle">GitHub</h3>
              <div style="display: flex; align-items: center; gap: 12px; padding: 16px; background: rgba(var(--primary), 0.05); border-radius: 12px; border: 1px solid rgba(var(--border), 0.5);">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="rgb(var(--primary))">
                  <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                </svg>
                <span style="font-family: 'Courier New', monospace; font-size: 1.05rem; color: rgb(var(--fg)); letter-spacing: 0.5px;">LOGANKhud</span>
              </div>
              <a class="btn primary" href="https://github.com/LOGANKhud" target="_blank" rel="noopener noreferrer" style="display: flex; align-items: center; justify-content: center; gap: 8px; width: 100%; margin-top: 12px;">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6M15 3h6v6M10 14 21 3"/>
                </svg>
                <span data-i18n="contact.visitGithub">访问 GitHub</span>
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- 项目详情模态框 -->
    <div class="modal project-modal" id="projectModal">
      <div class="project-backdrop" onclick="closeModal('projectModal')"></div>
      <div class="project-content">
        <div class="project-header">
          <h2 id="projectTitle">项目详情</h2>
          <button class="close-btn" onclick="closeModal('projectModal')">×</button>
        </div>
        <div class="project-body" id="projectBody">
          <!-- 动态内容 -->
        </div>
      </div>
    </div>

    <script>
      (function(){
        'use strict';
        
        // 初始化粒子背景
        function initParticles(){
          const container = document.getElementById('particles');
          const particleCount = 20;
          
          for(let i = 0; i < particleCount; i++){
            const particle = document.createElement('div');
            particle.className = 'particle';
            particle.style.left = Math.random() * 100 + '%';
            particle.style.animationDelay = Math.random() * 15 + 's';
            particle.style.animationDuration = (15 + Math.random() * 10) + 's';
            container.appendChild(particle);
          }
        }
        
        // 语言配置
        const I18N = {
          zh: {
            titles: {
              home: 'Mitasul · 首页',
              about: 'Mitasul · 兴趣爱好',
              'skills-projects': 'Mitasul · 技能与项目',
              thoughts: 'Mitasul · 随想'
            },
            bar: { welcome: '你好，欢迎来到我的空间。' },
            nav: {
              home: '首页',
              about: '兴趣爱好',
              skillsProjects: '技能与项目',
              thoughts: '随想',
              contact: '联系'
            },
            hero: {
              title: 'Mitasul',
              lead: '一个AI的忠实爱好者与实践者。'
            },
            home: {
              p1: '我的人生哲学很简单：由好奇心驱动，而非路线图。正是这份好奇，让我对 AI 的创造力深深着迷——无论是前端代码的灵动生成，还是创意写作的无限可能，都让我沉醉其中。',
              p2: '这个网站是我的个人实验室，也是我的分享平台。我在这里记录我对 AI 应用的探索、思考，以及将各种大模型应用于不同场景的实践心得。建立它的目的很简单：让更多的人知道我，并与可能的朋友、未来的合作伙伴在此相遇。',
              p3: '工作和探索之余，我的精神世界同样丰富。我能在 Funk 的律动与古典音乐的庄严之间寻找慰藉，也享受一个人在海边看天空的宁静。',
              p4: '当然，还有《三国志》。它不仅仅是英雄史诗，更蕴含着洞察世事的智慧。我尤其欣赏其中一句：',
              quote: '"治疾及其未笃，除患贵其未深。"',
              quoteCite: '—— 三国志',
              p5: '这句话也时刻提醒着我，在技术的浪潮中，要保持远见，防微杜渐。',
              p6: '期待在这里与你思想碰撞。'
            },
            btn: {
              contactMe: '联系我',
              viewProjects: '查看项目'
            },
            about: {
              title: '兴趣爱好',
              reading: '📚 阅读',
              writing: '✍️ 写作',
              status: '状态：开放合作 / 接受交流'
            },
            skillsProjects: {
              title: '技能与项目',
              subtitle: '点击卡片查看详情',
              ops: '运营',
              opsDesc: '（待补充）',
              write: '写作',
              writeDesc: '日常写作练习，记录想法和思考',
              chef: '厨师',
              chefDesc: '会做一些中餐家常菜',
              ai: 'AI应用',
              aiDesc: '探索和学习AI工具的使用',
              tagPending: '待定',
              tagEssay: '随笔',
              tagRecord: '记录',
              tagChinese: '中餐',
              tagHomeCooking: '家常菜',
              tagAITools: 'AI工具',
              tagLearning: '学习中'
            },
            thoughts: {
              title: '随想',
              text: '哲学家们只是用不同的方式解释世界，而问题在于改变世界。'
            },
            contact: {
              title: '联系我',
              copy: '复制邮箱',
              emailMe: '发邮件',
              emailTitle: '邮箱',
              githubTitle: 'GitHub',
              visitGithub: '访问 GitHub'
            }
          },
          en: {
            titles: {
              home: 'Mitasul · Home',
              about: 'Mitasul · Interests',
              'skills-projects': 'Mitasul · Skills & Projects',
              thoughts: 'Mitasul · Thoughts'
            },
            bar: { welcome: 'Hello, welcome to my space.' },
            nav: {
              home: 'Home',
              about: 'Interests',
              skillsProjects: 'Skills & Projects',
              thoughts: 'Thoughts',
              contact: 'Contact'
            },
            hero: {
              title: 'Mitasul',
              lead: 'An AI enthusiast and practitioner.'
            },
            home: {
              p1: 'My life philosophy is simple: driven by curiosity, not a roadmap. This curiosity fuels my fascination with the creativity of AI—from lively front-end code generation to the boundless possibilities of creative writing.',
              p2: "This site is my personal lab and sharing space. Here I record explorations, reflections, and hands-on notes on applying large models to different scenarios, hoping to meet friends and future collaborators.",
              p3: 'Beyond work and exploration, my inner world is rich. I find comfort between the groove of Funk and the solemnity of classical music, and enjoy the calm of watching the sky alone by the sea.',
              p4: "And of course, The Records of the Three Kingdoms. It's more than an epic—it contains insights into the world. There is a line I especially appreciate:",
              quote: '"Treat illness before it worsens; prevent trouble before it deepens."',
              quoteCite: '— Records of the Three Kingdoms',
              p5: 'This reminds me to keep foresight amid the tide of technology and address issues early.',
              p6: 'I look forward to exchanging ideas with you here.'
            },
            btn: {
              contactMe: 'Contact Me',
              viewProjects: 'View Projects'
            },
            about: {
              title: 'Interests',
              reading: '📚 Reading',
              writing: '✍️ Writing',
              status: 'Status: Open to collaboration / Chat'
            },
            skillsProjects: {
              title: 'Skills & Projects',
              subtitle: 'Click on cards to view details',
              ops: 'Operations',
              opsDesc: '(To be added)',
              write: 'Writing',
              writeDesc: 'Daily writing practice, recording thoughts and reflections',
              chef: 'Chef',
              chefDesc: 'Can cook some Chinese home-style dishes',
              ai: 'AI Applications',
              aiDesc: 'Exploring and learning to use AI tools',
              tagPending: 'Pending',
              tagEssay: 'Essays',
              tagRecord: 'Records',
              tagChinese: 'Chinese Cuisine',
              tagHomeCooking: 'Home Cooking',
              tagAITools: 'AI Tools',
              tagLearning: 'Learning'
            },
            thoughts: {
              title: 'Thoughts',
              text: 'Philosophers have only interpreted the world in various ways; the point is to change it.'
            },
            contact: {
              title: 'Contact Me',
              copy: 'Copy Email',
              emailMe: 'Email Me',
              emailTitle: 'Email',
              githubTitle: 'GitHub',
              visitGithub: 'Visit GitHub'
            }
          }
        };
        
        // 项目详情数据
        const projectData = {
          operations: {
            title: '运营',
            titleEn: 'Operations',
            description: '目前还没有具体内容，待后续补充。',
            descriptionEn: 'No specific content yet, to be added later.',
            highlights: [],
            highlightsEn: []
          },
          writing: {
            title: '写作作品',
            titleEn: 'Writing Works',
            description: '平时喜欢写一些随笔和思考，记录生活中的点滴。',
            descriptionEn: 'I enjoy writing casual thoughts and reflections, recording moments from life.',
            highlights: ['随笔', '记录', '思考'],
            highlightsEn: ['Essays', 'Records', 'Thoughts']
          },
          chef: {
            title: '中餐烹饪',
            titleEn: 'Chinese Cooking',
            description: '会做一些简单的中餐家常菜，正在学习更多菜谱。',
            descriptionEn: 'Can make some simple Chinese home-style dishes, learning more recipes.',
            highlights: ['家常菜', '中餐'],
            highlightsEn: ['Home-style dishes', 'Chinese cuisine'],
            images: [
              {
                name: '玉米虾仁',
                nameEn: 'Corn with Shrimp',
                src: 'https://raw.githubusercontent.com/LOGANKhud/LOGANKhud.github.io/main/caiping2.png'
              },
              {
                name: '红烧鱼',
                nameEn: 'Braised Fish', 
                src: 'https://raw.githubusercontent.com/LOGANKhud/LOGANKhud.github.io/main/caipin.png'
              }
            ]
          },
          ai: {
            title: 'AI工具学习',
            titleEn: 'Learning AI Tools',
            description: '对AI工具很有兴趣，正在学习和探索各种AI应用。',
            descriptionEn: 'Very interested in AI tools, currently learning and exploring various AI applications.',
            highlights: ['学习中', 'AI工具', '探索'],
            highlightsEn: ['Learning', 'AI tools', 'Exploring']
          }
        };
        
        // 主题切换
        const initTheme = () => {
          const stored = localStorage.getItem('theme');
          const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
          const theme = stored || (prefersDark ? 'dark' : 'light');
          document.documentElement.setAttribute('data-theme', theme);
        };
        
        document.getElementById('themeToggle')?.addEventListener('click', () => {
          const current = document.documentElement.getAttribute('data-theme');
          const next = current === 'dark' ? 'light' : 'dark';
          document.documentElement.setAttribute('data-theme', next);
          localStorage.setItem('theme', next);
        });
        
        // 语言切换
        const applyI18n = () => {
          const lang = document.documentElement.getAttribute('lang') || 'zh';
          const dict = I18N[lang];
          if (!dict) return;
          
          document.querySelectorAll('[data-i18n]').forEach(el => {
            const key = el.getAttribute('data-i18n');
            const keys = key.split('.');
            let value = dict;
            
            for (const k of keys) {
              value = value?.[k];
            }
            
            if (value !== undefined) {
              el.textContent = value;
            }
          });
          
          // 更新页面标题
          const route = getRoute();
          document.title = dict.titles?.[route] || 'Mitasul';
          
          // 更新语言按钮
          const langBtn = document.querySelector('#langToggle span');
          if (langBtn) {
            langBtn.textContent = lang === 'zh' ? '中 / EN' : 'EN / 中';
          }
        };
        
        document.getElementById('langToggle')?.addEventListener('click', () => {
          const current = document.documentElement.getAttribute('lang') || 'zh';
          const next = current === 'zh' ? 'en' : 'zh';
          document.documentElement.setAttribute('lang', next);
          localStorage.setItem('lang', next);
          applyI18n();
        });
        
        // 路由管理
        function getRoute() {
          const hash = location.hash || '#/';
          const match = hash.match(/^#\/([a-z-]+)?/i);
          const route = match?.[1] || 'home';
          return ['home', 'about', 'skills-projects', 'thoughts'].includes(route) ? route : 'home';
        }
        
        function showPage(route) {
          // 隐藏所有页面
          document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
          
          // 显示目标页面
          const page = document.getElementById(`page-${route}`);
          if (page) page.classList.add('active');
          
          // 更新导航状态
          document.querySelectorAll('.nav-links a').forEach(a => a.classList.remove('active'));
          const activeLink = document.querySelector(`.nav-links a[data-route="${route}"]`);
          if (activeLink) activeLink.classList.add('active');
          
          // 更新标题
          applyI18n();
          
          // 触发动画
          revealElements();
        }
        
        function navigate() {
          const route = getRoute();
          
          if (document.startViewTransition) {
            document.startViewTransition(() => showPage(route));
          } else {
            showPage(route);
          }
        }
        
        // 导航点击处理
        document.querySelectorAll('.nav-links a[href^="#/"]').forEach(link => {
          link.addEventListener('click', (e) => {
            e.preventDefault();
            const href = link.getAttribute('href');
            if (href !== location.hash) {
              location.hash = href;
            }
          });
        });
        
        // 监听路由变化
        window.addEventListener('hashchange', navigate);
        
        // 显示动画
        function revealElements() {
          const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
              if (entry.isIntersecting) {
                entry.target.classList.add('show');
                observer.unobserve(entry.target);
              }
            });
          }, { threshold: 0.1 });
          
          document.querySelectorAll('.reveal').forEach(el => {
            observer.observe(el);
          });
        }
        
        // 联系模态框
        document.getElementById('openContact')?.addEventListener('click', () => {
          document.getElementById('contactModal')?.classList.add('open');
        });
        
        document.getElementById('openContact2')?.addEventListener('click', () => {
          document.getElementById('contactModal')?.classList.add('open');
        });
        
        // 项目详情
        window.openProject = (projectId) => {
          const modal = document.getElementById('projectModal');
          const title = document.getElementById('projectTitle');
          const body = document.getElementById('projectBody');
          const lang = document.documentElement.getAttribute('lang') || 'zh';
          const project = projectData[projectId];
          
          if (!project || !modal) return;
          
          title.textContent = lang === 'zh' ? project.title : project.titleEn;
          
          const highlights = lang === 'zh' ? project.highlights : project.highlightsEn;
          const description = lang === 'zh' ? project.description : project.descriptionEn;
          
          // 添加图片展示
          let imagesHtml = '';
          if (project.images && project.images.length > 0) {
            imagesHtml = `
              <div style="margin: 24px 0;">
                <h4 style="margin: 0 0 16px; color: rgb(var(--fg)); font-size: 1.1rem;">${lang === 'zh' ? '作品展示' : 'My Dishes'}</h4>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 20px;">
                  ${project.images.map(img => `
                    <div style="border-radius: 12px; overflow: hidden; background: rgba(var(--card), 0.5); border: 1px solid rgba(var(--border), 0.3);">
                      <img src="${img.src}" alt="${lang === 'zh' ? '美食作品' : 'Culinary Work'}" style="width: 100%; height: 280px; object-fit: cover; background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%); transition: transform 0.3s ease;" loading="lazy" onload="this.style.opacity='1'" onerror="this.style.background='linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%)'; this.style.display='flex'; this.style.alignItems='center'; this.style.justifyContent='center'; this.innerHTML='<span style=\"color:#666;font-size:14px;\">图片加载中...</span>';" onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">
                    </div>
                  `).join('')}
                </div>
              </div>
            `;
          }
          
          body.innerHTML = `
            <div style="padding: 20px;">
              <p style="font-size: 1.15rem; line-height: 1.8; margin-bottom: 24px; color: rgb(var(--fg));">
                ${description}
              </p>
              ${imagesHtml}
              ${highlights.length > 0 ? `
                <div style="display: flex; flex-wrap: wrap; gap: 12px; margin-top: 24px;">
                  ${highlights.map(h => `
                    <span style="padding: 8px 16px; background: rgba(var(--primary), 0.1); color: rgb(var(--primary)); border-radius: 20px; font-weight: 500;">
                      ${h}
                    </span>
                  `).join('')}
                </div>
              ` : '<p style="color: rgb(var(--muted));">内容待补充...</p>'}
            </div>
          `;
          
          modal.classList.add('open');
        };
        
        window.closeModal = (modalId) => {
          document.getElementById(modalId)?.classList.remove('open');
        };
        
        window.copyEmail = async () => {
          try {
            await navigator.clipboard.writeText('ezhou9403@Gmail.com');
            // 创建临时提示
            const btn = event.currentTarget;
            const originalText = btn.querySelector('span').textContent;
            btn.querySelector('span').textContent = '已复制!';
            btn.style.background = 'rgba(var(--success), 0.1)';
            btn.style.borderColor = 'rgb(var(--success))';
            btn.style.color = 'rgb(var(--success))';
            
            setTimeout(() => {
              btn.querySelector('span').textContent = originalText;
              btn.style.background = '';
              btn.style.borderColor = '';
              btn.style.color = '';
            }, 2000);
          } catch (e) {
            console.error('复制失败', e);
            alert('复制失败，请手动复制');
          }
        };
        
        // 头像处理
        const avatar = document.getElementById('userAvatar');
        const fallback = document.getElementById('avatarFallback');
        
        if (avatar) {
          avatar.addEventListener('error', () => {
            avatar.style.display = 'none';
            if (fallback) fallback.style.display = 'block';
          });
        }
        
        // 初始化
        document.getElementById('year').textContent = new Date().getFullYear();
        
        // 设置初始语言
        const storedLang = localStorage.getItem('lang') || 'zh';
        document.documentElement.setAttribute('lang', storedLang);
        
        // 初始化
        initTheme();
        initParticles();
        applyI18n();
        
        if (!location.hash) {
          location.hash = '#/';
        } else {
          navigate();
        }
        
        // 页面加载完成后触发动画
        window.addEventListener('load', () => {
          revealElements();
          
          // 隐藏加载动画
          setTimeout(() => {
            document.getElementById('loading')?.style.setProperty('display', 'none');
          }, 500);
        });
        
        // 性能优化：使用 requestIdleCallback 进行非关键任务
        if ('requestIdleCallback' in window) {
          requestIdleCallback(() => {
            // 预加载字体
            document.fonts.load('1rem -apple-system');
          });
        }
      })();
    </script>
  </body>
</html>
